webpackJsonp([41],{Cqy2:function(t,e){!function(){!function(){"use strict";function t(){}var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),i=function(t){return t.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i)},o=function(t){return t.getParam("default_link_target","")},r={getAutoLinkPattern:i,getDefaultLinkTarget:o},f=function(t,e){return t===e||" "===t||160===t.charCodeAt(0)},a=function(t){g(t,-1,"(")},s=function(t){g(t,0,"")},u=function(t){g(t,-1,"")},d=function(t,e){if(e<0&&(e=0),3===t.nodeType){var n=t.data.length;e>n&&(e=n)}return e},c=function(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setStart(e,d(e,n)):t.setStartBefore(e)},l=function(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setEnd(e,d(e,n)):t.setEndAfter(e)},g=function(t,e,n){var i,o,a,s,u,d,g,h,C,m,k=r.getAutoLinkPattern(t),y=r.getDefaultLinkTarget(t);if("A"!==t.selection.getNode().tagName){if(i=t.selection.getRng(!0).cloneRange(),i.startOffset<5){if(!(h=i.endContainer.previousSibling)){if(!i.endContainer.firstChild||!i.endContainer.firstChild.nextSibling)return;h=i.endContainer.firstChild.nextSibling}if(C=h.length,c(i,h,C),l(i,h,C),i.endOffset<5)return;o=i.endOffset,s=h}else{if(s=i.endContainer,3!==s.nodeType&&s.firstChild){for(;3!==s.nodeType&&s.firstChild;)s=s.firstChild;3===s.nodeType&&(c(i,s,0),l(i,s,s.nodeValue.length))}o=1===i.endOffset?2:i.endOffset-1-e}a=o;do{c(i,s,o>=2?o-2:0),l(i,s,o>=1?o-1:0),o-=1,m=i.toString()}while(" "!==m&&""!==m&&160!==m.charCodeAt(0)&&o-2>=0&&m!==n);f(i.toString(),n)?(c(i,s,o),l(i,s,a),o+=1):0===i.startOffset?(c(i,s,0),l(i,s,a)):(c(i,s,o),l(i,s,a)),d=i.toString(),"."===d.charAt(d.length-1)&&l(i,s,a-1),d=i.toString().trim(),g=d.match(k),g&&("www."===g[1]?g[1]="http://www.":/@$/.test(g[1])&&!/^mailto:/.test(g[1])&&(g[1]="mailto:"+g[1]),u=t.selection.getBookmark(),t.selection.setRng(i),t.execCommand("createlink",!1,g[1]+g[2]),y&&t.dom.setAttrib(t.selection.getNode(),"target",y),t.selection.moveToBookmark(u),t.nodeChanged())}},h=function(t){var e;if(t.on("keydown",function(e){if(13===e.keyCode)return u(t)}),n.ie)return void t.on("focus",function(){if(!e){e=!0;try{t.execCommand("AutoUrlDetect",!1,!0)}catch(t){}}});t.on("keypress",function(e){if(41===e.keyCode)return a(t)}),t.on("keyup",function(e){if(32===e.keyCode)return s(t)})},C={setup:h};e.add("autolink",function(t){C.setup(t)})}()}()},nw5K:function(t,e,n){n("Cqy2")}});
//# sourceMappingURL=41.b9c789f32cef52e38f7a.js.map