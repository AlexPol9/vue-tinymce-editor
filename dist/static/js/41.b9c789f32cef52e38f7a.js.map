{"version":3,"sources":["webpack:///static/js/41.b9c789f32cef52e38f7a.js","webpack:///./~/tinymce/plugins/autolink/plugin.js","webpack:///./~/tinymce/plugins/autolink/index.js"],"names":["webpackJsonp","Cqy2","module","exports","Plugin","global","tinymce","util","Tools","resolve","global$1","getAutoLinkPattern","editor","getParam","getDefaultLinkTarget","Settings","rangeEqualsDelimiterOrSpace","rangeString","delimiter","charCodeAt","handleEclipse","parseCurrentLine","handleSpacebar","handleEnter","scopeIndex","container","index","nodeType","len","data","length","setStart","rng","offset","hasChildNodes","setStartBefore","setEnd","setEndAfter","endOffset","end","start","endContainer","bookmark","text","matches","prev","rngText","autoLinkPattern","defaultLinkTarget","selection","getNode","tagName","getRng","cloneRange","startOffset","previousSibling","firstChild","nextSibling","nodeValue","toString","charAt","trim","match","test","getBookmark","setRng","execCommand","dom","setAttrib","moveToBookmark","nodeChanged","setup","autoUrlDetectState","on","e","keyCode","ie","ex","Keys","add","nw5K","__webpack_require__"],"mappings":"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","file":"static/js/41.b9c789f32cef52e38f7a.js","sourcesContent":["webpackJsonp([41],{\n\n/***/ \"Cqy2\":\n/***/ (function(module, exports) {\n\n(function () {\nvar autolink = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var getAutoLinkPattern = function (editor) {\n      return editor.getParam('autolink_pattern', /^(https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.|(?:mailto:)?[A-Z0-9._%+\\-]+@)(.+)$/i);\n    };\n    var getDefaultLinkTarget = function (editor) {\n      return editor.getParam('default_link_target', '');\n    };\n    var Settings = {\n      getAutoLinkPattern: getAutoLinkPattern,\n      getDefaultLinkTarget: getDefaultLinkTarget\n    };\n\n    var rangeEqualsDelimiterOrSpace = function (rangeString, delimiter) {\n      return rangeString === delimiter || rangeString === ' ' || rangeString.charCodeAt(0) === 160;\n    };\n    var handleEclipse = function (editor) {\n      parseCurrentLine(editor, -1, '(');\n    };\n    var handleSpacebar = function (editor) {\n      parseCurrentLine(editor, 0, '');\n    };\n    var handleEnter = function (editor) {\n      parseCurrentLine(editor, -1, '');\n    };\n    var scopeIndex = function (container, index) {\n      if (index < 0) {\n        index = 0;\n      }\n      if (container.nodeType === 3) {\n        var len = container.data.length;\n        if (index > len) {\n          index = len;\n        }\n      }\n      return index;\n    };\n    var setStart = function (rng, container, offset) {\n      if (container.nodeType !== 1 || container.hasChildNodes()) {\n        rng.setStart(container, scopeIndex(container, offset));\n      } else {\n        rng.setStartBefore(container);\n      }\n    };\n    var setEnd = function (rng, container, offset) {\n      if (container.nodeType !== 1 || container.hasChildNodes()) {\n        rng.setEnd(container, scopeIndex(container, offset));\n      } else {\n        rng.setEndAfter(container);\n      }\n    };\n    var parseCurrentLine = function (editor, endOffset, delimiter) {\n      var rng, end, start, endContainer, bookmark, text, matches, prev, len, rngText;\n      var autoLinkPattern = Settings.getAutoLinkPattern(editor);\n      var defaultLinkTarget = Settings.getDefaultLinkTarget(editor);\n      if (editor.selection.getNode().tagName === 'A') {\n        return;\n      }\n      rng = editor.selection.getRng(true).cloneRange();\n      if (rng.startOffset < 5) {\n        prev = rng.endContainer.previousSibling;\n        if (!prev) {\n          if (!rng.endContainer.firstChild || !rng.endContainer.firstChild.nextSibling) {\n            return;\n          }\n          prev = rng.endContainer.firstChild.nextSibling;\n        }\n        len = prev.length;\n        setStart(rng, prev, len);\n        setEnd(rng, prev, len);\n        if (rng.endOffset < 5) {\n          return;\n        }\n        end = rng.endOffset;\n        endContainer = prev;\n      } else {\n        endContainer = rng.endContainer;\n        if (endContainer.nodeType !== 3 && endContainer.firstChild) {\n          while (endContainer.nodeType !== 3 && endContainer.firstChild) {\n            endContainer = endContainer.firstChild;\n          }\n          if (endContainer.nodeType === 3) {\n            setStart(rng, endContainer, 0);\n            setEnd(rng, endContainer, endContainer.nodeValue.length);\n          }\n        }\n        if (rng.endOffset === 1) {\n          end = 2;\n        } else {\n          end = rng.endOffset - 1 - endOffset;\n        }\n      }\n      start = end;\n      do {\n        setStart(rng, endContainer, end >= 2 ? end - 2 : 0);\n        setEnd(rng, endContainer, end >= 1 ? end - 1 : 0);\n        end -= 1;\n        rngText = rng.toString();\n      } while (rngText !== ' ' && rngText !== '' && rngText.charCodeAt(0) !== 160 && end - 2 >= 0 && rngText !== delimiter);\n      if (rangeEqualsDelimiterOrSpace(rng.toString(), delimiter)) {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n        end += 1;\n      } else if (rng.startOffset === 0) {\n        setStart(rng, endContainer, 0);\n        setEnd(rng, endContainer, start);\n      } else {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n      }\n      text = rng.toString();\n      if (text.charAt(text.length - 1) === '.') {\n        setEnd(rng, endContainer, start - 1);\n      }\n      text = rng.toString().trim();\n      matches = text.match(autoLinkPattern);\n      if (matches) {\n        if (matches[1] === 'www.') {\n          matches[1] = 'http://www.';\n        } else if (/@$/.test(matches[1]) && !/^mailto:/.test(matches[1])) {\n          matches[1] = 'mailto:' + matches[1];\n        }\n        bookmark = editor.selection.getBookmark();\n        editor.selection.setRng(rng);\n        editor.execCommand('createlink', false, matches[1] + matches[2]);\n        if (defaultLinkTarget) {\n          editor.dom.setAttrib(editor.selection.getNode(), 'target', defaultLinkTarget);\n        }\n        editor.selection.moveToBookmark(bookmark);\n        editor.nodeChanged();\n      }\n    };\n    var setup = function (editor) {\n      var autoUrlDetectState;\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13) {\n          return handleEnter(editor);\n        }\n      });\n      if (global$1.ie) {\n        editor.on('focus', function () {\n          if (!autoUrlDetectState) {\n            autoUrlDetectState = true;\n            try {\n              editor.execCommand('AutoUrlDetect', false, true);\n            } catch (ex) {\n            }\n          }\n        });\n        return;\n      }\n      editor.on('keypress', function (e) {\n        if (e.keyCode === 41) {\n          return handleEclipse(editor);\n        }\n      });\n      editor.on('keyup', function (e) {\n        if (e.keyCode === 32) {\n          return handleSpacebar(editor);\n        }\n      });\n    };\n    var Keys = { setup: setup };\n\n    global.add('autolink', function (editor) {\n      Keys.setup(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n\n\n/***/ }),\n\n/***/ \"nw5K\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\n__webpack_require__(\"Cqy2\");\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/41.b9c789f32cef52e38f7a.js","(function () {\nvar autolink = (function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var getAutoLinkPattern = function (editor) {\n      return editor.getParam('autolink_pattern', /^(https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.|(?:mailto:)?[A-Z0-9._%+\\-]+@)(.+)$/i);\n    };\n    var getDefaultLinkTarget = function (editor) {\n      return editor.getParam('default_link_target', '');\n    };\n    var Settings = {\n      getAutoLinkPattern: getAutoLinkPattern,\n      getDefaultLinkTarget: getDefaultLinkTarget\n    };\n\n    var rangeEqualsDelimiterOrSpace = function (rangeString, delimiter) {\n      return rangeString === delimiter || rangeString === ' ' || rangeString.charCodeAt(0) === 160;\n    };\n    var handleEclipse = function (editor) {\n      parseCurrentLine(editor, -1, '(');\n    };\n    var handleSpacebar = function (editor) {\n      parseCurrentLine(editor, 0, '');\n    };\n    var handleEnter = function (editor) {\n      parseCurrentLine(editor, -1, '');\n    };\n    var scopeIndex = function (container, index) {\n      if (index < 0) {\n        index = 0;\n      }\n      if (container.nodeType === 3) {\n        var len = container.data.length;\n        if (index > len) {\n          index = len;\n        }\n      }\n      return index;\n    };\n    var setStart = function (rng, container, offset) {\n      if (container.nodeType !== 1 || container.hasChildNodes()) {\n        rng.setStart(container, scopeIndex(container, offset));\n      } else {\n        rng.setStartBefore(container);\n      }\n    };\n    var setEnd = function (rng, container, offset) {\n      if (container.nodeType !== 1 || container.hasChildNodes()) {\n        rng.setEnd(container, scopeIndex(container, offset));\n      } else {\n        rng.setEndAfter(container);\n      }\n    };\n    var parseCurrentLine = function (editor, endOffset, delimiter) {\n      var rng, end, start, endContainer, bookmark, text, matches, prev, len, rngText;\n      var autoLinkPattern = Settings.getAutoLinkPattern(editor);\n      var defaultLinkTarget = Settings.getDefaultLinkTarget(editor);\n      if (editor.selection.getNode().tagName === 'A') {\n        return;\n      }\n      rng = editor.selection.getRng(true).cloneRange();\n      if (rng.startOffset < 5) {\n        prev = rng.endContainer.previousSibling;\n        if (!prev) {\n          if (!rng.endContainer.firstChild || !rng.endContainer.firstChild.nextSibling) {\n            return;\n          }\n          prev = rng.endContainer.firstChild.nextSibling;\n        }\n        len = prev.length;\n        setStart(rng, prev, len);\n        setEnd(rng, prev, len);\n        if (rng.endOffset < 5) {\n          return;\n        }\n        end = rng.endOffset;\n        endContainer = prev;\n      } else {\n        endContainer = rng.endContainer;\n        if (endContainer.nodeType !== 3 && endContainer.firstChild) {\n          while (endContainer.nodeType !== 3 && endContainer.firstChild) {\n            endContainer = endContainer.firstChild;\n          }\n          if (endContainer.nodeType === 3) {\n            setStart(rng, endContainer, 0);\n            setEnd(rng, endContainer, endContainer.nodeValue.length);\n          }\n        }\n        if (rng.endOffset === 1) {\n          end = 2;\n        } else {\n          end = rng.endOffset - 1 - endOffset;\n        }\n      }\n      start = end;\n      do {\n        setStart(rng, endContainer, end >= 2 ? end - 2 : 0);\n        setEnd(rng, endContainer, end >= 1 ? end - 1 : 0);\n        end -= 1;\n        rngText = rng.toString();\n      } while (rngText !== ' ' && rngText !== '' && rngText.charCodeAt(0) !== 160 && end - 2 >= 0 && rngText !== delimiter);\n      if (rangeEqualsDelimiterOrSpace(rng.toString(), delimiter)) {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n        end += 1;\n      } else if (rng.startOffset === 0) {\n        setStart(rng, endContainer, 0);\n        setEnd(rng, endContainer, start);\n      } else {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n      }\n      text = rng.toString();\n      if (text.charAt(text.length - 1) === '.') {\n        setEnd(rng, endContainer, start - 1);\n      }\n      text = rng.toString().trim();\n      matches = text.match(autoLinkPattern);\n      if (matches) {\n        if (matches[1] === 'www.') {\n          matches[1] = 'http://www.';\n        } else if (/@$/.test(matches[1]) && !/^mailto:/.test(matches[1])) {\n          matches[1] = 'mailto:' + matches[1];\n        }\n        bookmark = editor.selection.getBookmark();\n        editor.selection.setRng(rng);\n        editor.execCommand('createlink', false, matches[1] + matches[2]);\n        if (defaultLinkTarget) {\n          editor.dom.setAttrib(editor.selection.getNode(), 'target', defaultLinkTarget);\n        }\n        editor.selection.moveToBookmark(bookmark);\n        editor.nodeChanged();\n      }\n    };\n    var setup = function (editor) {\n      var autoUrlDetectState;\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13) {\n          return handleEnter(editor);\n        }\n      });\n      if (global$1.ie) {\n        editor.on('focus', function () {\n          if (!autoUrlDetectState) {\n            autoUrlDetectState = true;\n            try {\n              editor.execCommand('AutoUrlDetect', false, true);\n            } catch (ex) {\n            }\n          }\n        });\n        return;\n      }\n      editor.on('keypress', function (e) {\n        if (e.keyCode === 41) {\n          return handleEclipse(editor);\n        }\n      });\n      editor.on('keyup', function (e) {\n        if (e.keyCode === 32) {\n          return handleSpacebar(editor);\n        }\n      });\n    };\n    var Keys = { setup: setup };\n\n    global.add('autolink', function (editor) {\n      Keys.setup(editor);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tinymce/plugins/autolink/plugin.js\n// module id = Cqy2\n// module chunks = 41","// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\nrequire('./plugin.js');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tinymce/plugins/autolink/index.js\n// module id = nw5K\n// module chunks = 41"],"sourceRoot":""}