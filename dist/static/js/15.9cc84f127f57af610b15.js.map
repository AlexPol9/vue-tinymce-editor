{"version":3,"sources":["webpack:///static/js/15.9cc84f127f57af610b15.js","webpack:///./~/tinymce/plugins/paste/index.js","webpack:///./~/tinymce/plugins/paste/plugin.js"],"names":["webpackJsonp","SlIL","module","exports","__webpack_require__","T8kY","domGlobals","filter","content","items","global$4","each","v","constructor","RegExp","replace","innerText","html","walk","node","name","currentNode","text","shortEndedElements","ignoreElements","type","value","shortEnded","firstChild","next","blockElements","schema","global$a","domParser","global$7","getShortEndedElements","makeMap","getBlockElements","parse","trimHtml","trimSpaces","all","s1","s2","createIdGenerator","prefix","count","isWordContent","test","isNumericList","found","patterns","pattern","isBulletList","convertFakeListsToProperLists","getText","txt","trimListStart","regExp","removeIgnoredNodes","_listIgnore","remove","convertParagraphToLi","paragraphNode","listName","start","level","_listLevel","lastLevel","currentListNode","parent","prevListNode","append","global$9","attr","wrap","lastChild","elements","child","push","i","length","nodeText","matches","exec","parseInt","filterStyles","editor","validStyles","styleValue","outputStyles","styles","dom","parseStyle","indexOf","Settings","getRetainStyleProps","serializeStyle","curry","fn","initialArgs","_i","arguments","restArgs","concat","apply","addPreProcessFilter","filterFunc","on","e","internal","wordContent","addPostProcessFilter","removeExplorerBrElementsAfterBlocks","WordFilter","block","blockName","explorerBlocksRegExp","join","Utils","removeWebKitStyles","isWordHtml","webKitStyles","webKitStylesSetting","getWebkitStyles","shouldRemoveWebKitStyles","split","dom_1","node_1","selection","getNode","before","after","inputStyles","decode","inputValue","currentValue","getStyle","toHex","removeUnderlineAndFontInAnchor","root","$","find","Plugin","Cell","initial","get","set","clone","global$1","tinymce","util","Tools","resolve","hasProPlugin","settings","plugins","window","console","log","DetectProPlugin","clipboard","quirks","Api","firePastePreProcess","fire","firePastePostProcess","firePastePlainTextToggle","state","firePaste","ieFake","Events","shouldPlainTextInform","getParam","shouldBlockDrop","shouldPasteDataImages","shouldFilterDrop","getPreProcess","getPostProcess","shouldMergeFormats","isSmartPasteEnabled","isPasteAsTextEnabled","getWordValidElements","shouldConvertWordFakeLists","shouldUseDefaultFilters","shouldInformUserAboutPlainText","userIsInformedState","displayNotification","message","notificationManager","open","translate","togglePlainTextPaste","pasteFormat","focus","Actions","register","addCommand","ui","pasteHtml","pasteText","Commands","global$2","global$3","global$5","internalMark","mark","unmark","isMarked","InternalHtml","internalHtmlMime","global$6","isPlainText","toBRs","openContainer","rootTag","rootAttrs","key","attrs","tag","hasOwnProperty","encodeAllRaw","toBlockElements","blocks","tagOpen","tagClose","paragraphs","map","p","stitch","convert","Newlines","global$8","isMsEdge","navigator","userAgent","filterWordContent","retainStyleProperties","str","spaces","slice","Math","floor","validElements","valid_elements","valid_children","rule","attributes","class","attributesOrder","style","addAttributeFilter","nodes","unwrap","className","addNodeFilter","href","rootNode","validate","serialize","preProcess","preProcess$1","parser","fragment","forced_root_block","isRootContent","processResult","cancelled","postProcessFilter","tempBody","create","postProcessArgs","innerHTML","isDefaultPrevented","filterContent","preProcessArgs","filteredContent","hasEventListeners","process","ProcessFilters","insertContent","merge","paste","isAbsoluteUrl","url","isImageUrl","createImage","pasteHtmlFn","undoManager","extra","createLink","execCommand","linkSelection","isCollapsed","insertImage","smartInsertContent","action","SmartPaste","noop","constant","never","always","none","NONE","eq","o","isNone","call","thunk","id","n","me","fold","s","is","isSome","getOr","getOrThunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","bind","exists","forall","equals","equals_","toArray","toString","Object","freeze","some","a","constant_a","self","f","elementEq","b","from","Option","typeOf","x","t","Array","prototype","isPrototypeOf","String","isFunction","nativeSlice","xs","len","r","filter$1","pred","from$1","exports$1","define","require","amd","g","global","this","EphoxContactWrapper","c","u","code","1","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","run","Item","array","nextTick","args","title","browser","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","2","setImmediate","thisArg","Promise","TypeError","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","reject","promise","ret","newValue","then","finale","_unhandledRejectionFn","Handler","done","reason","ex","setTimeoutFunc","prom","arr","res","val","remaining","race","values","err","warn","_setImmediateFn","_setUnhandledRejectionFn","3","clearImmediate","Timeout","clearFn","_id","_clearFn","Function","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","4","promisePolyfill","Global","boltExport","nu","baseFn","data","callbacks","nCallback","isReady","cbs","pure","callback","LazyValue","errorReporter","make","fab","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","cache","nu$1","pure$1","Future","par","asyncValues","asyncValue","par$1","futures","traverse","mapM","subject","clear","isSet","pasteHtml$1","internalFlag","encode","forced_root_block_attrs","getDataTransferItems","dataTransfer","getData","legacyText","types","contentType","getClipboardContent","clipboardEvent","clipboardData","getDoc","extend","hasContentType","clipboardContent","mimeType","hasHtmlOrText","getBase64FromUri","uri","idx","substr","isValidDataUriImage","imgElm","images_dataimg_filter","extractFilename","m","match","uniqueId","pasteImage","imageItem","base64","images_reuse_filename","blob","img","Image","src","blobCache","editorUpload","blobInfo","existingBlobInfo","findFirst","cachedBlobInfo","add","blobUri","isClipboardEvent","event","readBlobsAsDataUris","getAsFile","reader","FileReader","onload","result","readAsDataURL","getImagesFromDataTransfer","files","file","pasteImageData","rng","paste_data_images","images","preventDefault","blobResults","setRng","isBrokenAndroidClipboardEvent","isKeyboardPasteEvent","metaKeyPressed","keyCode","shiftKey","registerEventHandlers","pasteBin","insertClipboardContent","isKeyBoardPaste","plainTextMode","isPlainTextHtml","getHtml","isDefaultContent","windowManager","alert","keyboardPastePlainTextState","keyboardPasteEvent","removePasteBinOnKeyUp","webkit","stopImmediatePropagation","ie","getLastRng","getRng","getEl","stopPropagation","setEditorTimeout","registerEventsAndFilters","transparentSrc","allow_html_data_urls","getPasteBinParent","inline","document","body","getBody","isExternalPasteBin","delegatePasteEvents","pasteBinElm","pasteBinDefaultContent","isDefault","lastRngCell","gecko","setStyle","select","pasteBinClone","lastRng","unbind","pasteBinClones","dirtyWrappers","cleanWrapper","copyAndRemove","toElm","fromElm","appendChild","grep","childNodes","elm","shift","insertBefore","isPasteBin","PasteBin","Clipboard","noop$1","hasWorkingClipboardApi","iOS","setData","setHtml5Clipboard","clearData","setClipboardData","evt","fallback","markedHtml","outer","inner","contenteditable","setStyles","position","top","left","width","overflow","range","offscreenRange","createRng","selectNodeContents","parentNode","removeChild","getContent","contextual","format","isTableSelection","getParent","getStart","hasSelectedContent","cut","copy","register$1","CutCopy","global$b","getCaretRangeFromEvent","getCaretRangeFromPoint","clientX","clientY","isPlainTextFileUrl","plainTextContent","setFocusedRange","setup","draggingInternallyState","dropContent","content_1","transact","DragDrop","setup$1","plugin","postProcess","PrePostProcess","setup$2","Quirks","stateChange","ctrl","control","register$2","postRender","addButton","icon","tooltip","cmd","onPostRender","addMenuItem","selectable","Buttons"],"mappings":"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","file":"static/js/15.9cc84f127f57af610b15.js","sourcesContent":["webpackJsonp([15],{\n\n/***/ \"SlIL\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Exports the \"paste\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/paste')\n//   ES2015:\n//     import 'tinymce/plugins/paste'\n__webpack_require__(\"T8kY\");\n\n/***/ }),\n\n/***/ \"T8kY\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {(function () {\nvar paste = (function (domGlobals) {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (/(^|[ ,])powerpaste([, ]|$)/.test(editor.settings.plugins) && global$1.get('powerpaste')) {\n        if (typeof domGlobals.window.console !== 'undefined' && domGlobals.window.console.log) {\n          domGlobals.window.console.log('PowerPaste is incompatible with Paste plugin! Remove \\'paste\\' from the \\'plugins\\' option.');\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var DetectProPlugin = { hasProPlugin: hasProPlugin };\n\n    var get = function (clipboard, quirks) {\n      return {\n        clipboard: clipboard,\n        quirks: quirks\n      };\n    };\n    var Api = { get: get };\n\n    var firePastePreProcess = function (editor, html, internal, isWordHtml) {\n      return editor.fire('PastePreProcess', {\n        content: html,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePostProcess = function (editor, node, internal, isWordHtml) {\n      return editor.fire('PastePostProcess', {\n        node: node,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePlainTextToggle = function (editor, state) {\n      return editor.fire('PastePlainTextToggle', { state: state });\n    };\n    var firePaste = function (editor, ieFake) {\n      return editor.fire('paste', { ieFake: ieFake });\n    };\n    var Events = {\n      firePastePreProcess: firePastePreProcess,\n      firePastePostProcess: firePastePostProcess,\n      firePastePlainTextToggle: firePastePlainTextToggle,\n      firePaste: firePaste\n    };\n\n    var shouldPlainTextInform = function (editor) {\n      return editor.getParam('paste_plaintext_inform', true);\n    };\n    var shouldBlockDrop = function (editor) {\n      return editor.getParam('paste_block_drop', false);\n    };\n    var shouldPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false);\n    };\n    var shouldFilterDrop = function (editor) {\n      return editor.getParam('paste_filter_drop', true);\n    };\n    var getPreProcess = function (editor) {\n      return editor.getParam('paste_preprocess');\n    };\n    var getPostProcess = function (editor) {\n      return editor.getParam('paste_postprocess');\n    };\n    var getWebkitStyles = function (editor) {\n      return editor.getParam('paste_webkit_styles');\n    };\n    var shouldRemoveWebKitStyles = function (editor) {\n      return editor.getParam('paste_remove_styles_if_webkit', true);\n    };\n    var shouldMergeFormats = function (editor) {\n      return editor.getParam('paste_merge_formats', true);\n    };\n    var isSmartPasteEnabled = function (editor) {\n      return editor.getParam('smart_paste', true);\n    };\n    var isPasteAsTextEnabled = function (editor) {\n      return editor.getParam('paste_as_text', false);\n    };\n    var getRetainStyleProps = function (editor) {\n      return editor.getParam('paste_retain_style_properties');\n    };\n    var getWordValidElements = function (editor) {\n      var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';\n      return editor.getParam('paste_word_valid_elements', defaultValidElements);\n    };\n    var shouldConvertWordFakeLists = function (editor) {\n      return editor.getParam('paste_convert_word_fake_lists', true);\n    };\n    var shouldUseDefaultFilters = function (editor) {\n      return editor.getParam('paste_enable_default_filters', true);\n    };\n    var Settings = {\n      shouldPlainTextInform: shouldPlainTextInform,\n      shouldBlockDrop: shouldBlockDrop,\n      shouldPasteDataImages: shouldPasteDataImages,\n      shouldFilterDrop: shouldFilterDrop,\n      getPreProcess: getPreProcess,\n      getPostProcess: getPostProcess,\n      getWebkitStyles: getWebkitStyles,\n      shouldRemoveWebKitStyles: shouldRemoveWebKitStyles,\n      shouldMergeFormats: shouldMergeFormats,\n      isSmartPasteEnabled: isSmartPasteEnabled,\n      isPasteAsTextEnabled: isPasteAsTextEnabled,\n      getRetainStyleProps: getRetainStyleProps,\n      getWordValidElements: getWordValidElements,\n      shouldConvertWordFakeLists: shouldConvertWordFakeLists,\n      shouldUseDefaultFilters: shouldUseDefaultFilters\n    };\n\n    var shouldInformUserAboutPlainText = function (editor, userIsInformedState) {\n      return userIsInformedState.get() === false && Settings.shouldPlainTextInform(editor);\n    };\n    var displayNotification = function (editor, message) {\n      editor.notificationManager.open({\n        text: editor.translate(message),\n        type: 'info'\n      });\n    };\n    var togglePlainTextPaste = function (editor, clipboard, userIsInformedState) {\n      if (clipboard.pasteFormat.get() === 'text') {\n        clipboard.pasteFormat.set('html');\n        Events.firePastePlainTextToggle(editor, false);\n      } else {\n        clipboard.pasteFormat.set('text');\n        Events.firePastePlainTextToggle(editor, true);\n        if (shouldInformUserAboutPlainText(editor, userIsInformedState)) {\n          displayNotification(editor, 'Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.');\n          userIsInformedState.set(true);\n        }\n      }\n      editor.focus();\n    };\n    var Actions = { togglePlainTextPaste: togglePlainTextPaste };\n\n    var register = function (editor, clipboard, userIsInformedState) {\n      editor.addCommand('mceTogglePlainTextPaste', function () {\n        Actions.togglePlainTextPaste(editor, clipboard, userIsInformedState);\n      });\n      editor.addCommand('mceInsertClipboardContent', function (ui, value) {\n        if (value.content) {\n          clipboard.pasteHtml(value.content, value.internal);\n        }\n        if (value.text) {\n          clipboard.pasteText(value.text);\n        }\n      });\n    };\n    var Commands = { register: register };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var internalMimeType = 'x-tinymce/html';\n    var internalMark = '<!-- ' + internalMimeType + ' -->';\n    var mark = function (html) {\n      return internalMark + html;\n    };\n    var unmark = function (html) {\n      return html.replace(internalMark, '');\n    };\n    var isMarked = function (html) {\n      return html.indexOf(internalMark) !== -1;\n    };\n    var InternalHtml = {\n      mark: mark,\n      unmark: unmark,\n      isMarked: isMarked,\n      internalHtmlMime: function () {\n        return internalMimeType;\n      }\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var isPlainText = function (text) {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n    var toBRs = function (text) {\n      return text.replace(/\\r?\\n/g, '<br>');\n    };\n    var openContainer = function (rootTag, rootAttrs) {\n      var key;\n      var attrs = [];\n      var tag = '<' + rootTag;\n      if (typeof rootAttrs === 'object') {\n        for (key in rootAttrs) {\n          if (rootAttrs.hasOwnProperty(key)) {\n            attrs.push(key + '=\"' + global$6.encodeAllRaw(rootAttrs[key]) + '\"');\n          }\n        }\n        if (attrs.length) {\n          tag += ' ' + attrs.join(' ');\n        }\n      }\n      return tag + '>';\n    };\n    var toBlockElements = function (text, rootTag, rootAttrs) {\n      var blocks = text.split(/\\n\\n/);\n      var tagOpen = openContainer(rootTag, rootAttrs);\n      var tagClose = '</' + rootTag + '>';\n      var paragraphs = global$4.map(blocks, function (p) {\n        return p.split(/\\n/).join('<br />');\n      });\n      var stitch = function (p) {\n        return tagOpen + p + tagClose;\n      };\n      return paragraphs.length === 1 ? paragraphs[0] : global$4.map(paragraphs, stitch).join('');\n    };\n    var convert = function (text, rootTag, rootAttrs) {\n      return rootTag ? toBlockElements(text, rootTag, rootAttrs) : toBRs(text);\n    };\n    var Newlines = {\n      isPlainText: isPlainText,\n      convert: convert,\n      toBRs: toBRs,\n      toBlockElements: toBlockElements\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n    function filter(content, items) {\n      global$4.each(items, function (v) {\n        if (v.constructor === RegExp) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    }\n    function innerText(html) {\n      var schema = global$a();\n      var domParser = global$7({}, schema);\n      var text = '';\n      var shortEndedElements = schema.getShortEndedElements();\n      var ignoreElements = global$4.makeMap('script noscript style textarea video audio iframe object', ' ');\n      var blockElements = schema.getBlockElements();\n      function walk(node) {\n        var name = node.name, currentNode = node;\n        if (name === 'br') {\n          text += '\\n';\n          return;\n        }\n        if (name === 'wbr') {\n          return;\n        }\n        if (shortEndedElements[name]) {\n          text += ' ';\n        }\n        if (ignoreElements[name]) {\n          text += ' ';\n          return;\n        }\n        if (node.type === 3) {\n          text += node.value;\n        }\n        if (!node.shortEnded) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n        if (blockElements[name] && currentNode.next) {\n          text += '\\n';\n          if (name === 'p') {\n            text += '\\n';\n          }\n        }\n      }\n      html = filter(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    }\n    function trimHtml(html) {\n      function trimSpaces(all, s1, s2) {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n        return '\\xA0';\n      }\n      html = filter(html, [\n        /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n        /<!--StartFragment-->|<!--EndFragment-->/g,\n        [\n          /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n          trimSpaces\n        ],\n        /<br class=\"Apple-interchange-newline\">/g,\n        /<br>$/i\n      ]);\n      return html;\n    }\n    function createIdGenerator(prefix) {\n      var count = 0;\n      return function () {\n        return prefix + count++;\n      };\n    }\n    var isMsEdge = function () {\n      return domGlobals.navigator.userAgent.indexOf(' Edge/') !== -1;\n    };\n    var Utils = {\n      filter: filter,\n      innerText: innerText,\n      trimHtml: trimHtml,\n      createIdGenerator: createIdGenerator,\n      isMsEdge: isMsEdge\n    };\n\n    function isWordContent(content) {\n      return /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument/i.test(content) || /class=\"OutlineElement/.test(content) || /id=\"?docs\\-internal\\-guid\\-/.test(content);\n    }\n    function isNumericList(text) {\n      var found, patterns;\n      patterns = [\n        /^[IVXLMCD]{1,2}\\.[ \\u00a0]/,\n        /^[ivxlmcd]{1,2}\\.[ \\u00a0]/,\n        /^[a-z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[A-Z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[0-9]+\\.[ \\u00a0]/,\n        /^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/,\n        /^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/\n      ];\n      text = text.replace(/^[\\u00a0 ]+/, '');\n      global$4.each(patterns, function (pattern) {\n        if (pattern.test(text)) {\n          found = true;\n          return false;\n        }\n      });\n      return found;\n    }\n    function isBulletList(text) {\n      return /^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(text);\n    }\n    function convertFakeListsToProperLists(node) {\n      var currentListNode, prevListNode, lastLevel = 1;\n      function getText(node) {\n        var txt = '';\n        if (node.type === 3) {\n          return node.value;\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.next);\n        }\n        return txt;\n      }\n      function trimListStart(node, regExp) {\n        if (node.type === 3) {\n          if (regExp.test(node.value)) {\n            node.value = node.value.replace(regExp, '');\n            return false;\n          }\n        }\n        if (node = node.firstChild) {\n          do {\n            if (!trimListStart(node, regExp)) {\n              return false;\n            }\n          } while (node = node.next);\n        }\n        return true;\n      }\n      function removeIgnoredNodes(node) {\n        if (node._listIgnore) {\n          node.remove();\n          return;\n        }\n        if (node = node.firstChild) {\n          do {\n            removeIgnoredNodes(node);\n          } while (node = node.next);\n        }\n      }\n      function convertParagraphToLi(paragraphNode, listName, start) {\n        var level = paragraphNode._listLevel || lastLevel;\n        if (level !== lastLevel) {\n          if (level < lastLevel) {\n            if (currentListNode) {\n              currentListNode = currentListNode.parent.parent;\n            }\n          } else {\n            prevListNode = currentListNode;\n            currentListNode = null;\n          }\n        }\n        if (!currentListNode || currentListNode.name !== listName) {\n          prevListNode = prevListNode || currentListNode;\n          currentListNode = new global$9(listName, 1);\n          if (start > 1) {\n            currentListNode.attr('start', '' + start);\n          }\n          paragraphNode.wrap(currentListNode);\n        } else {\n          currentListNode.append(paragraphNode);\n        }\n        paragraphNode.name = 'li';\n        if (level > lastLevel && prevListNode) {\n          prevListNode.lastChild.append(currentListNode);\n        }\n        lastLevel = level;\n        removeIgnoredNodes(paragraphNode);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n        trimListStart(paragraphNode, /^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n      }\n      var elements = [];\n      var child = node.firstChild;\n      while (typeof child !== 'undefined' && child !== null) {\n        elements.push(child);\n        child = child.walk();\n        if (child !== null) {\n          while (typeof child !== 'undefined' && child.parent !== node) {\n            child = child.walk();\n          }\n        }\n      }\n      for (var i = 0; i < elements.length; i++) {\n        node = elements[i];\n        if (node.name === 'p' && node.firstChild) {\n          var nodeText = getText(node);\n          if (isBulletList(nodeText)) {\n            convertParagraphToLi(node, 'ul');\n            continue;\n          }\n          if (isNumericList(nodeText)) {\n            var matches = /([0-9]+)\\./.exec(nodeText);\n            var start = 1;\n            if (matches) {\n              start = parseInt(matches[1], 10);\n            }\n            convertParagraphToLi(node, 'ol', start);\n            continue;\n          }\n          if (node._listLevel) {\n            convertParagraphToLi(node, 'ul', 1);\n            continue;\n          }\n          currentListNode = null;\n        } else {\n          prevListNode = currentListNode;\n          currentListNode = null;\n        }\n      }\n    }\n    function filterStyles(editor, validStyles, node, styleValue) {\n      var outputStyles = {}, matches;\n      var styles = editor.dom.parseStyle(styleValue);\n      global$4.each(styles, function (value, name) {\n        switch (name) {\n        case 'mso-list':\n          matches = /\\w+ \\w+([0-9]+)/i.exec(styleValue);\n          if (matches) {\n            node._listLevel = parseInt(matches[1], 10);\n          }\n          if (/Ignore/i.test(value) && node.firstChild) {\n            node._listIgnore = true;\n            node.firstChild._listIgnore = true;\n          }\n          break;\n        case 'horiz-align':\n          name = 'text-align';\n          break;\n        case 'vert-align':\n          name = 'vertical-align';\n          break;\n        case 'font-color':\n        case 'mso-foreground':\n          name = 'color';\n          break;\n        case 'mso-background':\n        case 'mso-highlight':\n          name = 'background';\n          break;\n        case 'font-weight':\n        case 'font-style':\n          if (value !== 'normal') {\n            outputStyles[name] = value;\n          }\n          return;\n        case 'mso-element':\n          if (/^(comment|comment-list)$/i.test(value)) {\n            node.remove();\n            return;\n          }\n          break;\n        }\n        if (name.indexOf('mso-comment') === 0) {\n          node.remove();\n          return;\n        }\n        if (name.indexOf('mso-') === 0) {\n          return;\n        }\n        if (Settings.getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {\n          outputStyles[name] = value;\n        }\n      });\n      if (/(bold)/i.test(outputStyles['font-weight'])) {\n        delete outputStyles['font-weight'];\n        node.wrap(new global$9('b', 1));\n      }\n      if (/(italic)/i.test(outputStyles['font-style'])) {\n        delete outputStyles['font-style'];\n        node.wrap(new global$9('i', 1));\n      }\n      outputStyles = editor.dom.serializeStyle(outputStyles, node.name);\n      if (outputStyles) {\n        return outputStyles;\n      }\n      return null;\n    }\n    var filterWordContent = function (editor, content) {\n      var retainStyleProperties, validStyles;\n      retainStyleProperties = Settings.getRetainStyleProps(editor);\n      if (retainStyleProperties) {\n        validStyles = global$4.makeMap(retainStyleProperties.split(/[, ]/));\n      }\n      content = Utils.filter(content, [\n        /<br class=\"?Apple-interchange-newline\"?>/gi,\n        /<b[^>]+id=\"?docs-internal-[^>]*>/gi,\n        /<!--[\\s\\S]+?-->/gi,\n        /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,\n        [\n          /<(\\/?)s>/gi,\n          '<$1strike>'\n        ],\n        [\n          /&nbsp;/gi,\n          '\\xA0'\n        ],\n        [\n          /<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,\n          function (str, spaces) {\n            return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join('\\xA0') : '';\n          }\n        ]\n      ]);\n      var validElements = Settings.getWordValidElements(editor);\n      var schema = global$a({\n        valid_elements: validElements,\n        valid_children: '-li[p]'\n      });\n      global$4.each(schema.elements, function (rule) {\n        if (!rule.attributes.class) {\n          rule.attributes.class = {};\n          rule.attributesOrder.push('class');\n        }\n        if (!rule.attributes.style) {\n          rule.attributes.style = {};\n          rule.attributesOrder.push('style');\n        }\n      });\n      var domParser = global$7({}, schema);\n      domParser.addAttributeFilter('style', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));\n          if (node.name === 'span' && node.parent && !node.attributes.length) {\n            node.unwrap();\n          }\n        }\n      });\n      domParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, className;\n        while (i--) {\n          node = nodes[i];\n          className = node.attr('class');\n          if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\n            node.remove();\n          }\n          node.attr('class', null);\n        }\n      });\n      domParser.addNodeFilter('del', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].remove();\n        }\n      });\n      domParser.addNodeFilter('a', function (nodes) {\n        var i = nodes.length, node, href, name;\n        while (i--) {\n          node = nodes[i];\n          href = node.attr('href');\n          name = node.attr('name');\n          if (href && href.indexOf('#_msocom_') !== -1) {\n            node.remove();\n            continue;\n          }\n          if (href && href.indexOf('file://') === 0) {\n            href = href.split('#')[1];\n            if (href) {\n              href = '#' + href;\n            }\n          }\n          if (!href && !name) {\n            node.unwrap();\n          } else {\n            if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\n              node.unwrap();\n              continue;\n            }\n            node.attr({\n              href: href,\n              name: name\n            });\n          }\n        }\n      });\n      var rootNode = domParser.parse(content);\n      if (Settings.shouldConvertWordFakeLists(editor)) {\n        convertFakeListsToProperLists(rootNode);\n      }\n      content = global$8({ validate: editor.settings.validate }, schema).serialize(rootNode);\n      return content;\n    };\n    var preProcess = function (editor, content) {\n      return Settings.shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;\n    };\n    var WordFilter = {\n      preProcess: preProcess,\n      isWordContent: isWordContent\n    };\n\n    var preProcess$1 = function (editor, html) {\n      var parser = global$7({}, editor.schema);\n      parser.addNodeFilter('meta', function (nodes) {\n        global$4.each(nodes, function (node) {\n          return node.remove();\n        });\n      });\n      var fragment = parser.parse(html, {\n        forced_root_block: false,\n        isRootContent: true\n      });\n      return global$8({ validate: editor.settings.validate }, editor.schema).serialize(fragment);\n    };\n    var processResult = function (content, cancelled) {\n      return {\n        content: content,\n        cancelled: cancelled\n      };\n    };\n    var postProcessFilter = function (editor, html, internal, isWordHtml) {\n      var tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n      var postProcessArgs = Events.firePastePostProcess(editor, tempBody, internal, isWordHtml);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n    var filterContent = function (editor, content, internal, isWordHtml) {\n      var preProcessArgs = Events.firePastePreProcess(editor, content, internal, isWordHtml);\n      var filteredContent = preProcess$1(editor, preProcessArgs.content);\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, filteredContent, internal, isWordHtml);\n      } else {\n        return processResult(filteredContent, preProcessArgs.isDefaultPrevented());\n      }\n    };\n    var process = function (editor, html, internal) {\n      var isWordHtml = WordFilter.isWordContent(html);\n      var content = isWordHtml ? WordFilter.preProcess(editor, html) : html;\n      return filterContent(editor, content, internal, isWordHtml);\n    };\n    var ProcessFilters = { process: process };\n\n    var pasteHtml = function (editor, html) {\n      editor.insertContent(html, {\n        merge: Settings.shouldMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n    var isAbsoluteUrl = function (url) {\n      return /^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(url);\n    };\n    var isImageUrl = function (url) {\n      return isAbsoluteUrl(url) && /.(gif|jpe?g|png)$/.test(url);\n    };\n    var createImage = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n    var createLink = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n    var linkSelection = function (editor, html, pasteHtmlFn) {\n      return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    };\n    var insertImage = function (editor, html, pasteHtmlFn) {\n      return isImageUrl(html) ? createImage(editor, html, pasteHtmlFn) : false;\n    };\n    var smartInsertContent = function (editor, html) {\n      global$4.each([\n        linkSelection,\n        insertImage,\n        pasteHtml\n      ], function (action) {\n        return action(editor, html, pasteHtml) !== true;\n      });\n    };\n    var insertContent = function (editor, html) {\n      if (Settings.isSmartPasteEnabled(editor) === false) {\n        pasteHtml(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n    var SmartPaste = {\n      isImageUrl: isImageUrl,\n      isAbsoluteUrl: isAbsoluteUrl,\n      insertContent: insertContent\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isFunction = isType('function');\n\n    var nativeSlice = Array.prototype.slice;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter$1 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var exports$1 = {}, module = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (f) {\n        if (typeof exports === 'object' && typeof module !== 'undefined') {\n          module.exports = f();\n        } else if (typeof define === 'function' && define.amd) {\n          define([], f);\n        } else {\n          var g;\n          if (typeof window !== 'undefined') {\n            g = window;\n          } else if (typeof global !== 'undefined') {\n            g = global;\n          } else if (typeof self !== 'undefined') {\n            g = self;\n          } else {\n            g = this;\n          }\n          g.EphoxContactWrapper = f();\n        }\n      }(function () {\n        return function () {\n          function r(e, n, t) {\n            function o(i, f) {\n              if (!n[i]) {\n                if (!e[i]) {\n                  var c = 'function' == typeof require && require;\n                  if (!f && c)\n                    return c(i, !0);\n                  if (u)\n                    return u(i, !0);\n                  var a = new Error('Cannot find module \\'' + i + '\\'');\n                  throw a.code = 'MODULE_NOT_FOUND', a;\n                }\n                var p = n[i] = { exports: {} };\n                e[i][0].call(p.exports, function (r) {\n                  var n = e[i][1][r];\n                  return o(n || r);\n                }, p, p.exports, r, e, n, t);\n              }\n              return n[i].exports;\n            }\n            for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++)\n              o(t[i]);\n            return o;\n          }\n          return r;\n        }()({\n          1: [\n            function (require, module, exports) {\n              var process = module.exports = {};\n              var cachedSetTimeout;\n              var cachedClearTimeout;\n              function defaultSetTimout() {\n                throw new Error('setTimeout has not been defined');\n              }\n              function defaultClearTimeout() {\n                throw new Error('clearTimeout has not been defined');\n              }\n              (function () {\n                try {\n                  if (typeof setTimeout === 'function') {\n                    cachedSetTimeout = setTimeout;\n                  } else {\n                    cachedSetTimeout = defaultSetTimout;\n                  }\n                } catch (e) {\n                  cachedSetTimeout = defaultSetTimout;\n                }\n                try {\n                  if (typeof clearTimeout === 'function') {\n                    cachedClearTimeout = clearTimeout;\n                  } else {\n                    cachedClearTimeout = defaultClearTimeout;\n                  }\n                } catch (e) {\n                  cachedClearTimeout = defaultClearTimeout;\n                }\n              }());\n              function runTimeout(fun) {\n                if (cachedSetTimeout === setTimeout) {\n                  return setTimeout(fun, 0);\n                }\n                if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n                  cachedSetTimeout = setTimeout;\n                  return setTimeout(fun, 0);\n                }\n                try {\n                  return cachedSetTimeout(fun, 0);\n                } catch (e) {\n                  try {\n                    return cachedSetTimeout.call(null, fun, 0);\n                  } catch (e) {\n                    return cachedSetTimeout.call(this, fun, 0);\n                  }\n                }\n              }\n              function runClearTimeout(marker) {\n                if (cachedClearTimeout === clearTimeout) {\n                  return clearTimeout(marker);\n                }\n                if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n                  cachedClearTimeout = clearTimeout;\n                  return clearTimeout(marker);\n                }\n                try {\n                  return cachedClearTimeout(marker);\n                } catch (e) {\n                  try {\n                    return cachedClearTimeout.call(null, marker);\n                  } catch (e) {\n                    return cachedClearTimeout.call(this, marker);\n                  }\n                }\n              }\n              var queue = [];\n              var draining = false;\n              var currentQueue;\n              var queueIndex = -1;\n              function cleanUpNextTick() {\n                if (!draining || !currentQueue) {\n                  return;\n                }\n                draining = false;\n                if (currentQueue.length) {\n                  queue = currentQueue.concat(queue);\n                } else {\n                  queueIndex = -1;\n                }\n                if (queue.length) {\n                  drainQueue();\n                }\n              }\n              function drainQueue() {\n                if (draining) {\n                  return;\n                }\n                var timeout = runTimeout(cleanUpNextTick);\n                draining = true;\n                var len = queue.length;\n                while (len) {\n                  currentQueue = queue;\n                  queue = [];\n                  while (++queueIndex < len) {\n                    if (currentQueue) {\n                      currentQueue[queueIndex].run();\n                    }\n                  }\n                  queueIndex = -1;\n                  len = queue.length;\n                }\n                currentQueue = null;\n                draining = false;\n                runClearTimeout(timeout);\n              }\n              process.nextTick = function (fun) {\n                var args = new Array(arguments.length - 1);\n                if (arguments.length > 1) {\n                  for (var i = 1; i < arguments.length; i++) {\n                    args[i - 1] = arguments[i];\n                  }\n                }\n                queue.push(new Item(fun, args));\n                if (queue.length === 1 && !draining) {\n                  runTimeout(drainQueue);\n                }\n              };\n              function Item(fun, array) {\n                this.fun = fun;\n                this.array = array;\n              }\n              Item.prototype.run = function () {\n                this.fun.apply(null, this.array);\n              };\n              process.title = 'browser';\n              process.browser = true;\n              process.env = {};\n              process.argv = [];\n              process.version = '';\n              process.versions = {};\n              function noop() {\n              }\n              process.on = noop;\n              process.addListener = noop;\n              process.once = noop;\n              process.off = noop;\n              process.removeListener = noop;\n              process.removeAllListeners = noop;\n              process.emit = noop;\n              process.prependListener = noop;\n              process.prependOnceListener = noop;\n              process.listeners = function (name) {\n                return [];\n              };\n              process.binding = function (name) {\n                throw new Error('process.binding is not supported');\n              };\n              process.cwd = function () {\n                return '/';\n              };\n              process.chdir = function (dir) {\n                throw new Error('process.chdir is not supported');\n              };\n              process.umask = function () {\n                return 0;\n              };\n            },\n            {}\n          ],\n          2: [\n            function (require, module, exports) {\n              (function (setImmediate) {\n                (function (root) {\n                  var setTimeoutFunc = setTimeout;\n                  function noop() {\n                  }\n                  function bind(fn, thisArg) {\n                    return function () {\n                      fn.apply(thisArg, arguments);\n                    };\n                  }\n                  function Promise(fn) {\n                    if (typeof this !== 'object')\n                      throw new TypeError('Promises must be constructed via new');\n                    if (typeof fn !== 'function')\n                      throw new TypeError('not a function');\n                    this._state = 0;\n                    this._handled = false;\n                    this._value = undefined;\n                    this._deferreds = [];\n                    doResolve(fn, this);\n                  }\n                  function handle(self, deferred) {\n                    while (self._state === 3) {\n                      self = self._value;\n                    }\n                    if (self._state === 0) {\n                      self._deferreds.push(deferred);\n                      return;\n                    }\n                    self._handled = true;\n                    Promise._immediateFn(function () {\n                      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                      if (cb === null) {\n                        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                        return;\n                      }\n                      var ret;\n                      try {\n                        ret = cb(self._value);\n                      } catch (e) {\n                        reject(deferred.promise, e);\n                        return;\n                      }\n                      resolve(deferred.promise, ret);\n                    });\n                  }\n                  function resolve(self, newValue) {\n                    try {\n                      if (newValue === self)\n                        throw new TypeError('A promise cannot be resolved with itself.');\n                      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                        var then = newValue.then;\n                        if (newValue instanceof Promise) {\n                          self._state = 3;\n                          self._value = newValue;\n                          finale(self);\n                          return;\n                        } else if (typeof then === 'function') {\n                          doResolve(bind(then, newValue), self);\n                          return;\n                        }\n                      }\n                      self._state = 1;\n                      self._value = newValue;\n                      finale(self);\n                    } catch (e) {\n                      reject(self, e);\n                    }\n                  }\n                  function reject(self, newValue) {\n                    self._state = 2;\n                    self._value = newValue;\n                    finale(self);\n                  }\n                  function finale(self) {\n                    if (self._state === 2 && self._deferreds.length === 0) {\n                      Promise._immediateFn(function () {\n                        if (!self._handled) {\n                          Promise._unhandledRejectionFn(self._value);\n                        }\n                      });\n                    }\n                    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                      handle(self, self._deferreds[i]);\n                    }\n                    self._deferreds = null;\n                  }\n                  function Handler(onFulfilled, onRejected, promise) {\n                    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                    this.promise = promise;\n                  }\n                  function doResolve(fn, self) {\n                    var done = false;\n                    try {\n                      fn(function (value) {\n                        if (done)\n                          return;\n                        done = true;\n                        resolve(self, value);\n                      }, function (reason) {\n                        if (done)\n                          return;\n                        done = true;\n                        reject(self, reason);\n                      });\n                    } catch (ex) {\n                      if (done)\n                        return;\n                      done = true;\n                      reject(self, ex);\n                    }\n                  }\n                  Promise.prototype['catch'] = function (onRejected) {\n                    return this.then(null, onRejected);\n                  };\n                  Promise.prototype.then = function (onFulfilled, onRejected) {\n                    var prom = new this.constructor(noop);\n                    handle(this, new Handler(onFulfilled, onRejected, prom));\n                    return prom;\n                  };\n                  Promise.all = function (arr) {\n                    var args = Array.prototype.slice.call(arr);\n                    return new Promise(function (resolve, reject) {\n                      if (args.length === 0)\n                        return resolve([]);\n                      var remaining = args.length;\n                      function res(i, val) {\n                        try {\n                          if (val && (typeof val === 'object' || typeof val === 'function')) {\n                            var then = val.then;\n                            if (typeof then === 'function') {\n                              then.call(val, function (val) {\n                                res(i, val);\n                              }, reject);\n                              return;\n                            }\n                          }\n                          args[i] = val;\n                          if (--remaining === 0) {\n                            resolve(args);\n                          }\n                        } catch (ex) {\n                          reject(ex);\n                        }\n                      }\n                      for (var i = 0; i < args.length; i++) {\n                        res(i, args[i]);\n                      }\n                    });\n                  };\n                  Promise.resolve = function (value) {\n                    if (value && typeof value === 'object' && value.constructor === Promise) {\n                      return value;\n                    }\n                    return new Promise(function (resolve) {\n                      resolve(value);\n                    });\n                  };\n                  Promise.reject = function (value) {\n                    return new Promise(function (resolve, reject) {\n                      reject(value);\n                    });\n                  };\n                  Promise.race = function (values) {\n                    return new Promise(function (resolve, reject) {\n                      for (var i = 0, len = values.length; i < len; i++) {\n                        values[i].then(resolve, reject);\n                      }\n                    });\n                  };\n                  Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                    setImmediate(fn);\n                  } : function (fn) {\n                    setTimeoutFunc(fn, 0);\n                  };\n                  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                    if (typeof console !== 'undefined' && console) {\n                      console.warn('Possible Unhandled Promise Rejection:', err);\n                    }\n                  };\n                  Promise._setImmediateFn = function _setImmediateFn(fn) {\n                    Promise._immediateFn = fn;\n                  };\n                  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                    Promise._unhandledRejectionFn = fn;\n                  };\n                  if (typeof module !== 'undefined' && module.exports) {\n                    module.exports = Promise;\n                  } else if (!root.Promise) {\n                    root.Promise = Promise;\n                  }\n                }(this));\n              }.call(this, require('timers').setImmediate));\n            },\n            { 'timers': 3 }\n          ],\n          3: [\n            function (require, module, exports) {\n              (function (setImmediate, clearImmediate) {\n                var nextTick = require('process/browser.js').nextTick;\n                var apply = Function.prototype.apply;\n                var slice = Array.prototype.slice;\n                var immediateIds = {};\n                var nextImmediateId = 0;\n                exports.setTimeout = function () {\n                  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n                };\n                exports.setInterval = function () {\n                  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n                };\n                exports.clearTimeout = exports.clearInterval = function (timeout) {\n                  timeout.close();\n                };\n                function Timeout(id, clearFn) {\n                  this._id = id;\n                  this._clearFn = clearFn;\n                }\n                Timeout.prototype.unref = Timeout.prototype.ref = function () {\n                };\n                Timeout.prototype.close = function () {\n                  this._clearFn.call(window, this._id);\n                };\n                exports.enroll = function (item, msecs) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = msecs;\n                };\n                exports.unenroll = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = -1;\n                };\n                exports._unrefActive = exports.active = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  var msecs = item._idleTimeout;\n                  if (msecs >= 0) {\n                    item._idleTimeoutId = setTimeout(function onTimeout() {\n                      if (item._onTimeout)\n                        item._onTimeout();\n                    }, msecs);\n                  }\n                };\n                exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n                  var id = nextImmediateId++;\n                  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n                  immediateIds[id] = true;\n                  nextTick(function onNextTick() {\n                    if (immediateIds[id]) {\n                      if (args) {\n                        fn.apply(null, args);\n                      } else {\n                        fn.call(null);\n                      }\n                      exports.clearImmediate(id);\n                    }\n                  });\n                  return id;\n                };\n                exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n                  delete immediateIds[id];\n                };\n              }.call(this, require('timers').setImmediate, require('timers').clearImmediate));\n            },\n            {\n              'process/browser.js': 1,\n              'timers': 3\n            }\n          ],\n          4: [\n            function (require, module, exports) {\n              var promisePolyfill = require('promise-polyfill');\n              var Global = function () {\n                if (typeof window !== 'undefined') {\n                  return window;\n                } else {\n                  return Function('return this;')();\n                }\n              }();\n              module.exports = { boltExport: Global.Promise || promisePolyfill };\n            },\n            { 'promise-polyfill': 2 }\n          ]\n        }, {}, [4])(4);\n      }));\n    }(undefined, exports$1, module, undefined));\n    var Promise = module.exports.boltExport;\n\n    var nu = function (baseFn) {\n      var data = Option.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        data = Option.some(x);\n        run(callbacks);\n        callbacks = [];\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          domGlobals.setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure = function (a) {\n      return nu(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu,\n      pure: pure\n    };\n\n    var errorReporter = function (err) {\n      domGlobals.setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$1 = function (baseFn) {\n      return make(function () {\n        return new Promise(baseFn);\n      });\n    };\n    var pure$1 = function (a) {\n      return make(function () {\n        return Promise.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$1,\n      pure: pure$1\n    };\n\n    var par = function (asyncValues, nu) {\n      return nu(function (callback) {\n        var r = [];\n        var count = 0;\n        var cb = function (i) {\n          return function (value) {\n            r[i] = value;\n            count++;\n            if (count >= asyncValues.length) {\n              callback(r);\n            }\n          };\n        };\n        if (asyncValues.length === 0) {\n          callback([]);\n        } else {\n          each(asyncValues, function (asyncValue, i) {\n            asyncValue.get(cb(i));\n          });\n        }\n      });\n    };\n\n    var par$1 = function (futures) {\n      return par(futures, Future.nu);\n    };\n    var traverse = function (array, fn) {\n      return par$1(map(array, fn));\n    };\n    var mapM = traverse;\n\n    var value = function () {\n      var subject = Cell(Option.none());\n      var clear = function () {\n        subject.set(Option.none());\n      };\n      var set = function (s) {\n        subject.set(Option.some(s));\n      };\n      var on = function (f) {\n        subject.get().each(f);\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      return {\n        clear: clear,\n        set: set,\n        isSet: isSet,\n        on: on\n      };\n    };\n\n    var pasteHtml$1 = function (editor, html, internalFlag) {\n      var internal = internalFlag ? internalFlag : InternalHtml.isMarked(html);\n      var args = ProcessFilters.process(editor, InternalHtml.unmark(html), internal);\n      if (args.cancelled === false) {\n        SmartPaste.insertContent(editor, args.content);\n      }\n    };\n    var pasteText = function (editor, text) {\n      text = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      text = Newlines.convert(text, editor.settings.forced_root_block, editor.settings.forced_root_block_attrs);\n      pasteHtml$1(editor, text, false);\n    };\n    var getDataTransferItems = function (dataTransfer) {\n      var items = {};\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      if (dataTransfer) {\n        if (dataTransfer.getData) {\n          var legacyText = dataTransfer.getData('Text');\n          if (legacyText && legacyText.length > 0) {\n            if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {\n              items['text/plain'] = legacyText;\n            }\n          }\n        }\n        if (dataTransfer.types) {\n          for (var i = 0; i < dataTransfer.types.length; i++) {\n            var contentType = dataTransfer.types[i];\n            try {\n              items[contentType] = dataTransfer.getData(contentType);\n            } catch (ex) {\n              items[contentType] = '';\n            }\n          }\n        }\n      }\n      return items;\n    };\n    var getClipboardContent = function (editor, clipboardEvent) {\n      var content = getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\n      return Utils.isMsEdge() ? global$4.extend(content, { 'text/html': '' }) : content;\n    };\n    var hasContentType = function (clipboardContent, mimeType) {\n      return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    };\n    var hasHtmlOrText = function (content) {\n      return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    };\n    var getBase64FromUri = function (uri) {\n      var idx;\n      idx = uri.indexOf(',');\n      if (idx !== -1) {\n        return uri.substr(idx + 1);\n      }\n      return null;\n    };\n    var isValidDataUriImage = function (settings, imgElm) {\n      return settings.images_dataimg_filter ? settings.images_dataimg_filter(imgElm) : true;\n    };\n    var extractFilename = function (editor, str) {\n      var m = str.match(/([\\s\\S]+?)\\.(?:jpeg|jpg|png|gif)$/i);\n      return m ? editor.dom.encode(m[1]) : null;\n    };\n    var uniqueId = Utils.createIdGenerator('mceclip');\n    var pasteImage = function (editor, imageItem) {\n      var base64 = getBase64FromUri(imageItem.uri);\n      var id = uniqueId();\n      var name = editor.settings.images_reuse_filename && imageItem.blob.name ? extractFilename(editor, imageItem.blob.name) : id;\n      var img = new domGlobals.Image();\n      img.src = imageItem.uri;\n      if (isValidDataUriImage(editor.settings, img)) {\n        var blobCache = editor.editorUpload.blobCache;\n        var blobInfo = void 0, existingBlobInfo = void 0;\n        existingBlobInfo = blobCache.findFirst(function (cachedBlobInfo) {\n          return cachedBlobInfo.base64() === base64;\n        });\n        if (!existingBlobInfo) {\n          blobInfo = blobCache.create(id, imageItem.blob, base64, name);\n          blobCache.add(blobInfo);\n        } else {\n          blobInfo = existingBlobInfo;\n        }\n        pasteHtml$1(editor, '<img src=\"' + blobInfo.blobUri() + '\">', false);\n      } else {\n        pasteHtml$1(editor, '<img src=\"' + imageItem.uri + '\">', false);\n      }\n    };\n    var isClipboardEvent = function (event) {\n      return event.type === 'paste';\n    };\n    var readBlobsAsDataUris = function (items) {\n      return mapM(items, function (item) {\n        return Future.nu(function (resolve) {\n          var blob = item.getAsFile ? item.getAsFile() : item;\n          var reader = new window.FileReader();\n          reader.onload = function () {\n            resolve({\n              blob: blob,\n              uri: reader.result\n            });\n          };\n          reader.readAsDataURL(blob);\n        });\n      });\n    };\n    var getImagesFromDataTransfer = function (dataTransfer) {\n      var items = dataTransfer.items ? map(from$1(dataTransfer.items), function (item) {\n        return item.getAsFile();\n      }) : [];\n      var files = dataTransfer.files ? from$1(dataTransfer.files) : [];\n      var images = filter$1(items.length > 0 ? items : files, function (file) {\n        return /^image\\/(jpeg|png|gif|bmp)$/.test(file.type);\n      });\n      return images;\n    };\n    var pasteImageData = function (editor, e, rng) {\n      var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n      if (editor.settings.paste_data_images && dataTransfer) {\n        var images = getImagesFromDataTransfer(dataTransfer);\n        if (images.length > 0) {\n          e.preventDefault();\n          readBlobsAsDataUris(images).get(function (blobResults) {\n            if (rng) {\n              editor.selection.setRng(rng);\n            }\n            each(blobResults, function (result) {\n              pasteImage(editor, result);\n            });\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    var isBrokenAndroidClipboardEvent = function (e) {\n      var clipboardData = e.clipboardData;\n      return domGlobals.navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\n    };\n    var isKeyboardPasteEvent = function (e) {\n      return global$5.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    };\n    var registerEventHandlers = function (editor, pasteBin, pasteFormat) {\n      var keyboardPasteEvent = value();\n      var keyboardPastePlainTextState;\n      editor.on('keydown', function (e) {\n        function removePasteBinOnKeyUp(e) {\n          if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n            pasteBin.remove();\n          }\n        }\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n          if (keyboardPastePlainTextState && global$2.webkit && domGlobals.navigator.userAgent.indexOf('Version/') !== -1) {\n            return;\n          }\n          e.stopImmediatePropagation();\n          keyboardPasteEvent.set(e);\n          window.setTimeout(function () {\n            keyboardPasteEvent.clear();\n          }, 100);\n          if (global$2.ie && keyboardPastePlainTextState) {\n            e.preventDefault();\n            Events.firePaste(editor, true);\n            return;\n          }\n          pasteBin.remove();\n          pasteBin.create();\n          editor.once('keyup', removePasteBinOnKeyUp);\n          editor.once('paste', function () {\n            editor.off('keyup', removePasteBinOnKeyUp);\n          });\n        }\n      });\n      function insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal) {\n        var content, isPlainTextHtml;\n        if (hasContentType(clipboardContent, 'text/html')) {\n          content = clipboardContent['text/html'];\n        } else {\n          content = pasteBin.getHtml();\n          internal = internal ? internal : InternalHtml.isMarked(content);\n          if (pasteBin.isDefaultContent(content)) {\n            plainTextMode = true;\n          }\n        }\n        content = Utils.trimHtml(content);\n        pasteBin.remove();\n        isPlainTextHtml = internal === false && Newlines.isPlainText(content);\n        if (!content.length || isPlainTextHtml) {\n          plainTextMode = true;\n        }\n        if (plainTextMode) {\n          if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n            content = clipboardContent['text/plain'];\n          } else {\n            content = Utils.innerText(content);\n          }\n        }\n        if (pasteBin.isDefaultContent(content)) {\n          if (!isKeyBoardPaste) {\n            editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\n          }\n          return;\n        }\n        if (plainTextMode) {\n          pasteText(editor, content);\n        } else {\n          pasteHtml$1(editor, content, internal);\n        }\n      }\n      var getLastRng = function () {\n        return pasteBin.getLastRng() || editor.selection.getRng();\n      };\n      editor.on('paste', function (e) {\n        var isKeyBoardPaste = keyboardPasteEvent.isSet();\n        var clipboardContent = getClipboardContent(editor, e);\n        var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        var internal = hasContentType(clipboardContent, InternalHtml.internalHtmlMime());\n        keyboardPastePlainTextState = false;\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          pasteBin.remove();\n          return;\n        }\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          pasteBin.remove();\n          return;\n        }\n        if (!isKeyBoardPaste) {\n          e.preventDefault();\n        }\n        if (global$2.ie && (!isKeyBoardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {\n          pasteBin.create();\n          editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {\n            e.stopPropagation();\n          });\n          editor.getDoc().execCommand('Paste', false, null);\n          clipboardContent['text/html'] = pasteBin.getHtml();\n        }\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n          if (!internal) {\n            internal = InternalHtml.isMarked(clipboardContent['text/html']);\n          }\n          insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n        } else {\n          global$3.setEditorTimeout(editor, function () {\n            insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n          }, 0);\n        }\n      });\n    };\n    var registerEventsAndFilters = function (editor, pasteBin, pasteFormat) {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      var src;\n      editor.parser.addNodeFilter('img', function (nodes, name, args) {\n        var isPasteInsert = function (args) {\n          return args.data && args.data.paste === true;\n        };\n        var remove = function (node) {\n          if (!node.attr('data-mce-object') && src !== global$2.transparentSrc) {\n            node.remove();\n          }\n        };\n        var isWebKitFakeUrl = function (src) {\n          return src.indexOf('webkit-fake-url') === 0;\n        };\n        var isDataUri = function (src) {\n          return src.indexOf('data:') === 0;\n        };\n        if (!editor.settings.paste_data_images && isPasteInsert(args)) {\n          var i = nodes.length;\n          while (i--) {\n            src = nodes[i].attributes.map.src;\n            if (!src) {\n              continue;\n            }\n            if (isWebKitFakeUrl(src)) {\n              remove(nodes[i]);\n            } else if (!editor.settings.allow_html_data_urls && isDataUri(src)) {\n              remove(nodes[i]);\n            }\n          }\n        }\n      });\n    };\n\n    var getPasteBinParent = function (editor) {\n      return global$2.ie && editor.inline ? domGlobals.document.body : editor.getBody();\n    };\n    var isExternalPasteBin = function (editor) {\n      return getPasteBinParent(editor) !== editor.getBody();\n    };\n    var delegatePasteEvents = function (editor, pasteBinElm, pasteBinDefaultContent) {\n      if (isExternalPasteBin(editor)) {\n        editor.dom.bind(pasteBinElm, 'paste keyup', function (e) {\n          if (!isDefault(editor, pasteBinDefaultContent)) {\n            editor.fire('paste');\n          }\n        });\n      }\n    };\n    var create = function (editor, lastRngCell, pasteBinDefaultContent) {\n      var dom = editor.dom, body = editor.getBody();\n      var pasteBinElm;\n      lastRngCell.set(editor.selection.getRng());\n      pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n      if (global$2.ie || global$2.gecko) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {\n        e.stopPropagation();\n      });\n      delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);\n      pasteBinElm.focus();\n      editor.selection.select(pasteBinElm, true);\n    };\n    var remove = function (editor, lastRngCell) {\n      if (getEl(editor)) {\n        var pasteBinClone = void 0;\n        var lastRng = lastRngCell.get();\n        while (pasteBinClone = editor.dom.get('mcepastebin')) {\n          editor.dom.remove(pasteBinClone);\n          editor.dom.unbind(pasteBinClone);\n        }\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n      lastRngCell.set(null);\n    };\n    var getEl = function (editor) {\n      return editor.dom.get('mcepastebin');\n    };\n    var getHtml = function (editor) {\n      var pasteBinElm, pasteBinClones, i, dirtyWrappers, cleanWrapper;\n      var copyAndRemove = function (toElm, fromElm) {\n        toElm.appendChild(fromElm);\n        editor.dom.remove(fromElm, true);\n      };\n      pasteBinClones = global$4.grep(getPasteBinParent(editor).childNodes, function (elm) {\n        return elm.id === 'mcepastebin';\n      });\n      pasteBinElm = pasteBinClones.shift();\n      global$4.each(pasteBinClones, function (pasteBinClone) {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);\n      for (i = dirtyWrappers.length - 1; i >= 0; i--) {\n        cleanWrapper = editor.dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n    var getLastRng = function (lastRng) {\n      return lastRng.get();\n    };\n    var isDefaultContent = function (pasteBinDefaultContent, content) {\n      return content === pasteBinDefaultContent;\n    };\n    var isPasteBin = function (elm) {\n      return elm && elm.id === 'mcepastebin';\n    };\n    var isDefault = function (editor, pasteBinDefaultContent) {\n      var pasteBinElm = getEl(editor);\n      return isPasteBin(pasteBinElm) && isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);\n    };\n    var PasteBin = function (editor) {\n      var lastRng = Cell(null);\n      var pasteBinDefaultContent = '%MCEPASTEBIN%';\n      return {\n        create: function () {\n          return create(editor, lastRng, pasteBinDefaultContent);\n        },\n        remove: function () {\n          return remove(editor, lastRng);\n        },\n        getEl: function () {\n          return getEl(editor);\n        },\n        getHtml: function () {\n          return getHtml(editor);\n        },\n        getLastRng: function () {\n          return getLastRng(lastRng);\n        },\n        isDefault: function () {\n          return isDefault(editor, pasteBinDefaultContent);\n        },\n        isDefaultContent: function (content) {\n          return isDefaultContent(pasteBinDefaultContent, content);\n        }\n      };\n    };\n\n    var Clipboard = function (editor, pasteFormat) {\n      var pasteBin = PasteBin(editor);\n      editor.on('preInit', function () {\n        return registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n      return {\n        pasteFormat: pasteFormat,\n        pasteHtml: function (html, internalFlag) {\n          return pasteHtml$1(editor, html, internalFlag);\n        },\n        pasteText: function (text) {\n          return pasteText(editor, text);\n        },\n        pasteImageData: function (e, rng) {\n          return pasteImageData(editor, e, rng);\n        },\n        getDataTransferItems: getDataTransferItems,\n        hasHtmlOrText: hasHtmlOrText,\n        hasContentType: hasContentType\n      };\n    };\n\n    var noop$1 = function () {\n    };\n    var hasWorkingClipboardApi = function (clipboardData) {\n      return global$2.iOS === false && clipboardData !== undefined && typeof clipboardData.setData === 'function' && Utils.isMsEdge() !== true;\n    };\n    var setHtml5Clipboard = function (clipboardData, html, text) {\n      if (hasWorkingClipboardApi(clipboardData)) {\n        try {\n          clipboardData.clearData();\n          clipboardData.setData('text/html', html);\n          clipboardData.setData('text/plain', text);\n          clipboardData.setData(InternalHtml.internalHtmlMime(), html);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n    var setClipboardData = function (evt, data, fallback, done) {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n    var fallback = function (editor) {\n      return function (html, done) {\n        var markedHtml = InternalHtml.mark(html);\n        var outer = editor.dom.create('div', {\n          'contenteditable': 'false',\n          'data-mce-bogus': 'all'\n        });\n        var inner = editor.dom.create('div', { contenteditable: 'true' }, markedHtml);\n        editor.dom.setStyles(outer, {\n          position: 'fixed',\n          top: '0',\n          left: '-3000px',\n          width: '1000px',\n          overflow: 'hidden'\n        });\n        outer.appendChild(inner);\n        editor.dom.add(editor.getBody(), outer);\n        var range = editor.selection.getRng();\n        inner.focus();\n        var offscreenRange = editor.dom.createRng();\n        offscreenRange.selectNodeContents(inner);\n        editor.selection.setRng(offscreenRange);\n        setTimeout(function () {\n          editor.selection.setRng(range);\n          outer.parentNode.removeChild(outer);\n          done();\n        }, 0);\n      };\n    };\n    var getData = function (editor) {\n      return {\n        html: editor.selection.getContent({ contextual: true }),\n        text: editor.selection.getContent({ format: 'text' })\n      };\n    };\n    var isTableSelection = function (editor) {\n      return !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n    };\n    var hasSelectedContent = function (editor) {\n      return !editor.selection.isCollapsed() || isTableSelection(editor);\n    };\n    var cut = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), function () {\n            setTimeout(function () {\n              editor.execCommand('Delete');\n            }, 0);\n          });\n        }\n      };\n    };\n    var copy = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), noop$1);\n        }\n      };\n    };\n    var register$1 = function (editor) {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n    var CutCopy = { register: register$1 };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var getCaretRangeFromEvent = function (editor, e) {\n      return global$b.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\n    };\n    var isPlainTextFileUrl = function (content) {\n      var plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n    var setFocusedRange = function (editor, rng) {\n      editor.focus();\n      editor.selection.setRng(rng);\n    };\n    var setup = function (editor, clipboard, draggingInternallyState) {\n      if (Settings.shouldBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n      if (!Settings.shouldPasteDataImages(editor)) {\n        editor.on('drop', function (e) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\n            e.preventDefault();\n          }\n        });\n      }\n      editor.on('drop', function (e) {\n        var dropContent, rng;\n        rng = getCaretRangeFromEvent(editor, e);\n        if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n          return;\n        }\n        dropContent = clipboard.getDataTransferItems(e.dataTransfer);\n        var internal = clipboard.hasContentType(dropContent, InternalHtml.internalHtmlMime());\n        if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {\n          return;\n        }\n        if (rng && Settings.shouldFilterDrop(editor)) {\n          var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\n          if (content_1) {\n            e.preventDefault();\n            global$3.setEditorTimeout(editor, function () {\n              editor.undoManager.transact(function () {\n                if (dropContent['mce-internal']) {\n                  editor.execCommand('Delete');\n                }\n                setFocusedRange(editor, rng);\n                content_1 = Utils.trimHtml(content_1);\n                if (!dropContent['text/html']) {\n                  clipboard.pasteText(content_1);\n                } else {\n                  clipboard.pasteHtml(content_1, internal);\n                }\n              });\n            });\n          }\n        }\n      });\n      editor.on('dragstart', function (e) {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', function (e) {\n        if (Settings.shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n    };\n    var DragDrop = { setup: setup };\n\n    var setup$1 = function (editor) {\n      var plugin = editor.plugins.paste;\n      var preProcess = Settings.getPreProcess(editor);\n      if (preProcess) {\n        editor.on('PastePreProcess', function (e) {\n          preProcess.call(plugin, plugin, e);\n        });\n      }\n      var postProcess = Settings.getPostProcess(editor);\n      if (postProcess) {\n        editor.on('PastePostProcess', function (e) {\n          postProcess.call(plugin, plugin, e);\n        });\n      }\n    };\n    var PrePostProcess = { setup: setup$1 };\n\n    function addPreProcessFilter(editor, filterFunc) {\n      editor.on('PastePreProcess', function (e) {\n        e.content = filterFunc(editor, e.content, e.internal, e.wordContent);\n      });\n    }\n    function addPostProcessFilter(editor, filterFunc) {\n      editor.on('PastePostProcess', function (e) {\n        filterFunc(editor, e.node);\n      });\n    }\n    function removeExplorerBrElementsAfterBlocks(editor, html) {\n      if (!WordFilter.isWordContent(html)) {\n        return html;\n      }\n      var blockElements = [];\n      global$4.each(editor.schema.getBlockElements(), function (block, blockName) {\n        blockElements.push(blockName);\n      });\n      var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*', 'g');\n      html = Utils.filter(html, [[\n          explorerBlocksRegExp,\n          '$1'\n        ]]);\n      html = Utils.filter(html, [\n        [\n          /<br><br>/g,\n          '<BR><BR>'\n        ],\n        [\n          /<br>/g,\n          ' '\n        ],\n        [\n          /<BR><BR>/g,\n          '<br>'\n        ]\n      ]);\n      return html;\n    }\n    function removeWebKitStyles(editor, content, internal, isWordHtml) {\n      if (isWordHtml || internal) {\n        return content;\n      }\n      var webKitStylesSetting = Settings.getWebkitStyles(editor);\n      var webKitStyles;\n      if (Settings.shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {\n        return content;\n      }\n      if (webKitStylesSetting) {\n        webKitStyles = webKitStylesSetting.split(/[, ]/);\n      }\n      if (webKitStyles) {\n        var dom_1 = editor.dom, node_1 = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, function (all, before, value, after) {\n          var inputStyles = dom_1.parseStyle(dom_1.decode(value));\n          var outputStyles = {};\n          if (webKitStyles === 'none') {\n            return before + after;\n          }\n          for (var i = 0; i < webKitStyles.length; i++) {\n            var inputValue = inputStyles[webKitStyles[i]], currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);\n            if (/color/.test(webKitStyles[i])) {\n              inputValue = dom_1.toHex(inputValue);\n              currentValue = dom_1.toHex(currentValue);\n            }\n            if (currentValue !== inputValue) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n          outputStyles = dom_1.serializeStyle(outputStyles, 'span');\n          if (outputStyles) {\n            return before + ' style=\"' + outputStyles + '\"' + after;\n          }\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, function (all, before, value, after) {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    }\n    function removeUnderlineAndFontInAnchor(editor, root) {\n      editor.$('a', root).find('font,u').each(function (i, node) {\n        editor.dom.remove(node, true);\n      });\n    }\n    var setup$2 = function (editor) {\n      if (global$2.webkit) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n      if (global$2.ie) {\n        addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);\n        addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);\n      }\n    };\n    var Quirks = { setup: setup$2 };\n\n    var stateChange = function (editor, clipboard, e) {\n      var ctrl = e.control;\n      ctrl.active(clipboard.pasteFormat.get() === 'text');\n      editor.on('PastePlainTextToggle', function (e) {\n        ctrl.active(e.state);\n      });\n    };\n    var register$2 = function (editor, clipboard) {\n      var postRender = curry(stateChange, editor, clipboard);\n      editor.addButton('pastetext', {\n        active: false,\n        icon: 'pastetext',\n        tooltip: 'Paste as text',\n        cmd: 'mceTogglePlainTextPaste',\n        onPostRender: postRender\n      });\n      editor.addMenuItem('pastetext', {\n        text: 'Paste as text',\n        selectable: true,\n        active: clipboard.pasteFormat,\n        cmd: 'mceTogglePlainTextPaste',\n        onPostRender: postRender\n      });\n    };\n    var Buttons = { register: register$2 };\n\n    global$1.add('paste', function (editor) {\n      if (DetectProPlugin.hasProPlugin(editor) === false) {\n        var userIsInformedState = Cell(false);\n        var draggingInternallyState = Cell(false);\n        var pasteFormat = Cell(Settings.isPasteAsTextEnabled(editor) ? 'text' : 'html');\n        var clipboard = Clipboard(editor, pasteFormat);\n        var quirks = Quirks.setup(editor);\n        Buttons.register(editor, clipboard);\n        Commands.register(editor, clipboard, userIsInformedState);\n        PrePostProcess.setup(editor);\n        CutCopy.register(editor);\n        DragDrop.setup(editor, clipboard, draggingInternallyState);\n        return Api.get(clipboard, quirks);\n      }\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"DuR2\")))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/15.9cc84f127f57af610b15.js","// Exports the \"paste\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/paste')\n//   ES2015:\n//     import 'tinymce/plugins/paste'\nrequire('./plugin.js');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tinymce/plugins/paste/index.js\n// module id = SlIL\n// module chunks = 15","(function () {\nvar paste = (function (domGlobals) {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (/(^|[ ,])powerpaste([, ]|$)/.test(editor.settings.plugins) && global$1.get('powerpaste')) {\n        if (typeof domGlobals.window.console !== 'undefined' && domGlobals.window.console.log) {\n          domGlobals.window.console.log('PowerPaste is incompatible with Paste plugin! Remove \\'paste\\' from the \\'plugins\\' option.');\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var DetectProPlugin = { hasProPlugin: hasProPlugin };\n\n    var get = function (clipboard, quirks) {\n      return {\n        clipboard: clipboard,\n        quirks: quirks\n      };\n    };\n    var Api = { get: get };\n\n    var firePastePreProcess = function (editor, html, internal, isWordHtml) {\n      return editor.fire('PastePreProcess', {\n        content: html,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePostProcess = function (editor, node, internal, isWordHtml) {\n      return editor.fire('PastePostProcess', {\n        node: node,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n    var firePastePlainTextToggle = function (editor, state) {\n      return editor.fire('PastePlainTextToggle', { state: state });\n    };\n    var firePaste = function (editor, ieFake) {\n      return editor.fire('paste', { ieFake: ieFake });\n    };\n    var Events = {\n      firePastePreProcess: firePastePreProcess,\n      firePastePostProcess: firePastePostProcess,\n      firePastePlainTextToggle: firePastePlainTextToggle,\n      firePaste: firePaste\n    };\n\n    var shouldPlainTextInform = function (editor) {\n      return editor.getParam('paste_plaintext_inform', true);\n    };\n    var shouldBlockDrop = function (editor) {\n      return editor.getParam('paste_block_drop', false);\n    };\n    var shouldPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false);\n    };\n    var shouldFilterDrop = function (editor) {\n      return editor.getParam('paste_filter_drop', true);\n    };\n    var getPreProcess = function (editor) {\n      return editor.getParam('paste_preprocess');\n    };\n    var getPostProcess = function (editor) {\n      return editor.getParam('paste_postprocess');\n    };\n    var getWebkitStyles = function (editor) {\n      return editor.getParam('paste_webkit_styles');\n    };\n    var shouldRemoveWebKitStyles = function (editor) {\n      return editor.getParam('paste_remove_styles_if_webkit', true);\n    };\n    var shouldMergeFormats = function (editor) {\n      return editor.getParam('paste_merge_formats', true);\n    };\n    var isSmartPasteEnabled = function (editor) {\n      return editor.getParam('smart_paste', true);\n    };\n    var isPasteAsTextEnabled = function (editor) {\n      return editor.getParam('paste_as_text', false);\n    };\n    var getRetainStyleProps = function (editor) {\n      return editor.getParam('paste_retain_style_properties');\n    };\n    var getWordValidElements = function (editor) {\n      var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';\n      return editor.getParam('paste_word_valid_elements', defaultValidElements);\n    };\n    var shouldConvertWordFakeLists = function (editor) {\n      return editor.getParam('paste_convert_word_fake_lists', true);\n    };\n    var shouldUseDefaultFilters = function (editor) {\n      return editor.getParam('paste_enable_default_filters', true);\n    };\n    var Settings = {\n      shouldPlainTextInform: shouldPlainTextInform,\n      shouldBlockDrop: shouldBlockDrop,\n      shouldPasteDataImages: shouldPasteDataImages,\n      shouldFilterDrop: shouldFilterDrop,\n      getPreProcess: getPreProcess,\n      getPostProcess: getPostProcess,\n      getWebkitStyles: getWebkitStyles,\n      shouldRemoveWebKitStyles: shouldRemoveWebKitStyles,\n      shouldMergeFormats: shouldMergeFormats,\n      isSmartPasteEnabled: isSmartPasteEnabled,\n      isPasteAsTextEnabled: isPasteAsTextEnabled,\n      getRetainStyleProps: getRetainStyleProps,\n      getWordValidElements: getWordValidElements,\n      shouldConvertWordFakeLists: shouldConvertWordFakeLists,\n      shouldUseDefaultFilters: shouldUseDefaultFilters\n    };\n\n    var shouldInformUserAboutPlainText = function (editor, userIsInformedState) {\n      return userIsInformedState.get() === false && Settings.shouldPlainTextInform(editor);\n    };\n    var displayNotification = function (editor, message) {\n      editor.notificationManager.open({\n        text: editor.translate(message),\n        type: 'info'\n      });\n    };\n    var togglePlainTextPaste = function (editor, clipboard, userIsInformedState) {\n      if (clipboard.pasteFormat.get() === 'text') {\n        clipboard.pasteFormat.set('html');\n        Events.firePastePlainTextToggle(editor, false);\n      } else {\n        clipboard.pasteFormat.set('text');\n        Events.firePastePlainTextToggle(editor, true);\n        if (shouldInformUserAboutPlainText(editor, userIsInformedState)) {\n          displayNotification(editor, 'Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.');\n          userIsInformedState.set(true);\n        }\n      }\n      editor.focus();\n    };\n    var Actions = { togglePlainTextPaste: togglePlainTextPaste };\n\n    var register = function (editor, clipboard, userIsInformedState) {\n      editor.addCommand('mceTogglePlainTextPaste', function () {\n        Actions.togglePlainTextPaste(editor, clipboard, userIsInformedState);\n      });\n      editor.addCommand('mceInsertClipboardContent', function (ui, value) {\n        if (value.content) {\n          clipboard.pasteHtml(value.content, value.internal);\n        }\n        if (value.text) {\n          clipboard.pasteText(value.text);\n        }\n      });\n    };\n    var Commands = { register: register };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var internalMimeType = 'x-tinymce/html';\n    var internalMark = '<!-- ' + internalMimeType + ' -->';\n    var mark = function (html) {\n      return internalMark + html;\n    };\n    var unmark = function (html) {\n      return html.replace(internalMark, '');\n    };\n    var isMarked = function (html) {\n      return html.indexOf(internalMark) !== -1;\n    };\n    var InternalHtml = {\n      mark: mark,\n      unmark: unmark,\n      isMarked: isMarked,\n      internalHtmlMime: function () {\n        return internalMimeType;\n      }\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var isPlainText = function (text) {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n    var toBRs = function (text) {\n      return text.replace(/\\r?\\n/g, '<br>');\n    };\n    var openContainer = function (rootTag, rootAttrs) {\n      var key;\n      var attrs = [];\n      var tag = '<' + rootTag;\n      if (typeof rootAttrs === 'object') {\n        for (key in rootAttrs) {\n          if (rootAttrs.hasOwnProperty(key)) {\n            attrs.push(key + '=\"' + global$6.encodeAllRaw(rootAttrs[key]) + '\"');\n          }\n        }\n        if (attrs.length) {\n          tag += ' ' + attrs.join(' ');\n        }\n      }\n      return tag + '>';\n    };\n    var toBlockElements = function (text, rootTag, rootAttrs) {\n      var blocks = text.split(/\\n\\n/);\n      var tagOpen = openContainer(rootTag, rootAttrs);\n      var tagClose = '</' + rootTag + '>';\n      var paragraphs = global$4.map(blocks, function (p) {\n        return p.split(/\\n/).join('<br />');\n      });\n      var stitch = function (p) {\n        return tagOpen + p + tagClose;\n      };\n      return paragraphs.length === 1 ? paragraphs[0] : global$4.map(paragraphs, stitch).join('');\n    };\n    var convert = function (text, rootTag, rootAttrs) {\n      return rootTag ? toBlockElements(text, rootTag, rootAttrs) : toBRs(text);\n    };\n    var Newlines = {\n      isPlainText: isPlainText,\n      convert: convert,\n      toBRs: toBRs,\n      toBlockElements: toBlockElements\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n    function filter(content, items) {\n      global$4.each(items, function (v) {\n        if (v.constructor === RegExp) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    }\n    function innerText(html) {\n      var schema = global$a();\n      var domParser = global$7({}, schema);\n      var text = '';\n      var shortEndedElements = schema.getShortEndedElements();\n      var ignoreElements = global$4.makeMap('script noscript style textarea video audio iframe object', ' ');\n      var blockElements = schema.getBlockElements();\n      function walk(node) {\n        var name = node.name, currentNode = node;\n        if (name === 'br') {\n          text += '\\n';\n          return;\n        }\n        if (name === 'wbr') {\n          return;\n        }\n        if (shortEndedElements[name]) {\n          text += ' ';\n        }\n        if (ignoreElements[name]) {\n          text += ' ';\n          return;\n        }\n        if (node.type === 3) {\n          text += node.value;\n        }\n        if (!node.shortEnded) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n        if (blockElements[name] && currentNode.next) {\n          text += '\\n';\n          if (name === 'p') {\n            text += '\\n';\n          }\n        }\n      }\n      html = filter(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    }\n    function trimHtml(html) {\n      function trimSpaces(all, s1, s2) {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n        return '\\xA0';\n      }\n      html = filter(html, [\n        /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n        /<!--StartFragment-->|<!--EndFragment-->/g,\n        [\n          /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n          trimSpaces\n        ],\n        /<br class=\"Apple-interchange-newline\">/g,\n        /<br>$/i\n      ]);\n      return html;\n    }\n    function createIdGenerator(prefix) {\n      var count = 0;\n      return function () {\n        return prefix + count++;\n      };\n    }\n    var isMsEdge = function () {\n      return domGlobals.navigator.userAgent.indexOf(' Edge/') !== -1;\n    };\n    var Utils = {\n      filter: filter,\n      innerText: innerText,\n      trimHtml: trimHtml,\n      createIdGenerator: createIdGenerator,\n      isMsEdge: isMsEdge\n    };\n\n    function isWordContent(content) {\n      return /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument/i.test(content) || /class=\"OutlineElement/.test(content) || /id=\"?docs\\-internal\\-guid\\-/.test(content);\n    }\n    function isNumericList(text) {\n      var found, patterns;\n      patterns = [\n        /^[IVXLMCD]{1,2}\\.[ \\u00a0]/,\n        /^[ivxlmcd]{1,2}\\.[ \\u00a0]/,\n        /^[a-z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[A-Z]{1,2}[\\.\\)][ \\u00a0]/,\n        /^[0-9]+\\.[ \\u00a0]/,\n        /^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/,\n        /^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/\n      ];\n      text = text.replace(/^[\\u00a0 ]+/, '');\n      global$4.each(patterns, function (pattern) {\n        if (pattern.test(text)) {\n          found = true;\n          return false;\n        }\n      });\n      return found;\n    }\n    function isBulletList(text) {\n      return /^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(text);\n    }\n    function convertFakeListsToProperLists(node) {\n      var currentListNode, prevListNode, lastLevel = 1;\n      function getText(node) {\n        var txt = '';\n        if (node.type === 3) {\n          return node.value;\n        }\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.next);\n        }\n        return txt;\n      }\n      function trimListStart(node, regExp) {\n        if (node.type === 3) {\n          if (regExp.test(node.value)) {\n            node.value = node.value.replace(regExp, '');\n            return false;\n          }\n        }\n        if (node = node.firstChild) {\n          do {\n            if (!trimListStart(node, regExp)) {\n              return false;\n            }\n          } while (node = node.next);\n        }\n        return true;\n      }\n      function removeIgnoredNodes(node) {\n        if (node._listIgnore) {\n          node.remove();\n          return;\n        }\n        if (node = node.firstChild) {\n          do {\n            removeIgnoredNodes(node);\n          } while (node = node.next);\n        }\n      }\n      function convertParagraphToLi(paragraphNode, listName, start) {\n        var level = paragraphNode._listLevel || lastLevel;\n        if (level !== lastLevel) {\n          if (level < lastLevel) {\n            if (currentListNode) {\n              currentListNode = currentListNode.parent.parent;\n            }\n          } else {\n            prevListNode = currentListNode;\n            currentListNode = null;\n          }\n        }\n        if (!currentListNode || currentListNode.name !== listName) {\n          prevListNode = prevListNode || currentListNode;\n          currentListNode = new global$9(listName, 1);\n          if (start > 1) {\n            currentListNode.attr('start', '' + start);\n          }\n          paragraphNode.wrap(currentListNode);\n        } else {\n          currentListNode.append(paragraphNode);\n        }\n        paragraphNode.name = 'li';\n        if (level > lastLevel && prevListNode) {\n          prevListNode.lastChild.append(currentListNode);\n        }\n        lastLevel = level;\n        removeIgnoredNodes(paragraphNode);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n        trimListStart(paragraphNode, /^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n      }\n      var elements = [];\n      var child = node.firstChild;\n      while (typeof child !== 'undefined' && child !== null) {\n        elements.push(child);\n        child = child.walk();\n        if (child !== null) {\n          while (typeof child !== 'undefined' && child.parent !== node) {\n            child = child.walk();\n          }\n        }\n      }\n      for (var i = 0; i < elements.length; i++) {\n        node = elements[i];\n        if (node.name === 'p' && node.firstChild) {\n          var nodeText = getText(node);\n          if (isBulletList(nodeText)) {\n            convertParagraphToLi(node, 'ul');\n            continue;\n          }\n          if (isNumericList(nodeText)) {\n            var matches = /([0-9]+)\\./.exec(nodeText);\n            var start = 1;\n            if (matches) {\n              start = parseInt(matches[1], 10);\n            }\n            convertParagraphToLi(node, 'ol', start);\n            continue;\n          }\n          if (node._listLevel) {\n            convertParagraphToLi(node, 'ul', 1);\n            continue;\n          }\n          currentListNode = null;\n        } else {\n          prevListNode = currentListNode;\n          currentListNode = null;\n        }\n      }\n    }\n    function filterStyles(editor, validStyles, node, styleValue) {\n      var outputStyles = {}, matches;\n      var styles = editor.dom.parseStyle(styleValue);\n      global$4.each(styles, function (value, name) {\n        switch (name) {\n        case 'mso-list':\n          matches = /\\w+ \\w+([0-9]+)/i.exec(styleValue);\n          if (matches) {\n            node._listLevel = parseInt(matches[1], 10);\n          }\n          if (/Ignore/i.test(value) && node.firstChild) {\n            node._listIgnore = true;\n            node.firstChild._listIgnore = true;\n          }\n          break;\n        case 'horiz-align':\n          name = 'text-align';\n          break;\n        case 'vert-align':\n          name = 'vertical-align';\n          break;\n        case 'font-color':\n        case 'mso-foreground':\n          name = 'color';\n          break;\n        case 'mso-background':\n        case 'mso-highlight':\n          name = 'background';\n          break;\n        case 'font-weight':\n        case 'font-style':\n          if (value !== 'normal') {\n            outputStyles[name] = value;\n          }\n          return;\n        case 'mso-element':\n          if (/^(comment|comment-list)$/i.test(value)) {\n            node.remove();\n            return;\n          }\n          break;\n        }\n        if (name.indexOf('mso-comment') === 0) {\n          node.remove();\n          return;\n        }\n        if (name.indexOf('mso-') === 0) {\n          return;\n        }\n        if (Settings.getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {\n          outputStyles[name] = value;\n        }\n      });\n      if (/(bold)/i.test(outputStyles['font-weight'])) {\n        delete outputStyles['font-weight'];\n        node.wrap(new global$9('b', 1));\n      }\n      if (/(italic)/i.test(outputStyles['font-style'])) {\n        delete outputStyles['font-style'];\n        node.wrap(new global$9('i', 1));\n      }\n      outputStyles = editor.dom.serializeStyle(outputStyles, node.name);\n      if (outputStyles) {\n        return outputStyles;\n      }\n      return null;\n    }\n    var filterWordContent = function (editor, content) {\n      var retainStyleProperties, validStyles;\n      retainStyleProperties = Settings.getRetainStyleProps(editor);\n      if (retainStyleProperties) {\n        validStyles = global$4.makeMap(retainStyleProperties.split(/[, ]/));\n      }\n      content = Utils.filter(content, [\n        /<br class=\"?Apple-interchange-newline\"?>/gi,\n        /<b[^>]+id=\"?docs-internal-[^>]*>/gi,\n        /<!--[\\s\\S]+?-->/gi,\n        /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,\n        [\n          /<(\\/?)s>/gi,\n          '<$1strike>'\n        ],\n        [\n          /&nbsp;/gi,\n          '\\xA0'\n        ],\n        [\n          /<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,\n          function (str, spaces) {\n            return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join('\\xA0') : '';\n          }\n        ]\n      ]);\n      var validElements = Settings.getWordValidElements(editor);\n      var schema = global$a({\n        valid_elements: validElements,\n        valid_children: '-li[p]'\n      });\n      global$4.each(schema.elements, function (rule) {\n        if (!rule.attributes.class) {\n          rule.attributes.class = {};\n          rule.attributesOrder.push('class');\n        }\n        if (!rule.attributes.style) {\n          rule.attributes.style = {};\n          rule.attributesOrder.push('style');\n        }\n      });\n      var domParser = global$7({}, schema);\n      domParser.addAttributeFilter('style', function (nodes) {\n        var i = nodes.length, node;\n        while (i--) {\n          node = nodes[i];\n          node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));\n          if (node.name === 'span' && node.parent && !node.attributes.length) {\n            node.unwrap();\n          }\n        }\n      });\n      domParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, className;\n        while (i--) {\n          node = nodes[i];\n          className = node.attr('class');\n          if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\n            node.remove();\n          }\n          node.attr('class', null);\n        }\n      });\n      domParser.addNodeFilter('del', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].remove();\n        }\n      });\n      domParser.addNodeFilter('a', function (nodes) {\n        var i = nodes.length, node, href, name;\n        while (i--) {\n          node = nodes[i];\n          href = node.attr('href');\n          name = node.attr('name');\n          if (href && href.indexOf('#_msocom_') !== -1) {\n            node.remove();\n            continue;\n          }\n          if (href && href.indexOf('file://') === 0) {\n            href = href.split('#')[1];\n            if (href) {\n              href = '#' + href;\n            }\n          }\n          if (!href && !name) {\n            node.unwrap();\n          } else {\n            if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\n              node.unwrap();\n              continue;\n            }\n            node.attr({\n              href: href,\n              name: name\n            });\n          }\n        }\n      });\n      var rootNode = domParser.parse(content);\n      if (Settings.shouldConvertWordFakeLists(editor)) {\n        convertFakeListsToProperLists(rootNode);\n      }\n      content = global$8({ validate: editor.settings.validate }, schema).serialize(rootNode);\n      return content;\n    };\n    var preProcess = function (editor, content) {\n      return Settings.shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;\n    };\n    var WordFilter = {\n      preProcess: preProcess,\n      isWordContent: isWordContent\n    };\n\n    var preProcess$1 = function (editor, html) {\n      var parser = global$7({}, editor.schema);\n      parser.addNodeFilter('meta', function (nodes) {\n        global$4.each(nodes, function (node) {\n          return node.remove();\n        });\n      });\n      var fragment = parser.parse(html, {\n        forced_root_block: false,\n        isRootContent: true\n      });\n      return global$8({ validate: editor.settings.validate }, editor.schema).serialize(fragment);\n    };\n    var processResult = function (content, cancelled) {\n      return {\n        content: content,\n        cancelled: cancelled\n      };\n    };\n    var postProcessFilter = function (editor, html, internal, isWordHtml) {\n      var tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n      var postProcessArgs = Events.firePastePostProcess(editor, tempBody, internal, isWordHtml);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n    var filterContent = function (editor, content, internal, isWordHtml) {\n      var preProcessArgs = Events.firePastePreProcess(editor, content, internal, isWordHtml);\n      var filteredContent = preProcess$1(editor, preProcessArgs.content);\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, filteredContent, internal, isWordHtml);\n      } else {\n        return processResult(filteredContent, preProcessArgs.isDefaultPrevented());\n      }\n    };\n    var process = function (editor, html, internal) {\n      var isWordHtml = WordFilter.isWordContent(html);\n      var content = isWordHtml ? WordFilter.preProcess(editor, html) : html;\n      return filterContent(editor, content, internal, isWordHtml);\n    };\n    var ProcessFilters = { process: process };\n\n    var pasteHtml = function (editor, html) {\n      editor.insertContent(html, {\n        merge: Settings.shouldMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n    var isAbsoluteUrl = function (url) {\n      return /^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(url);\n    };\n    var isImageUrl = function (url) {\n      return isAbsoluteUrl(url) && /.(gif|jpe?g|png)$/.test(url);\n    };\n    var createImage = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n    var createLink = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n    var linkSelection = function (editor, html, pasteHtmlFn) {\n      return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    };\n    var insertImage = function (editor, html, pasteHtmlFn) {\n      return isImageUrl(html) ? createImage(editor, html, pasteHtmlFn) : false;\n    };\n    var smartInsertContent = function (editor, html) {\n      global$4.each([\n        linkSelection,\n        insertImage,\n        pasteHtml\n      ], function (action) {\n        return action(editor, html, pasteHtml) !== true;\n      });\n    };\n    var insertContent = function (editor, html) {\n      if (Settings.isSmartPasteEnabled(editor) === false) {\n        pasteHtml(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n    var SmartPaste = {\n      isImageUrl: isImageUrl,\n      isAbsoluteUrl: isAbsoluteUrl,\n      insertContent: insertContent\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isFunction = isType('function');\n\n    var nativeSlice = Array.prototype.slice;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var filter$1 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var exports$1 = {}, module = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (f) {\n        if (typeof exports === 'object' && typeof module !== 'undefined') {\n          module.exports = f();\n        } else if (typeof define === 'function' && define.amd) {\n          define([], f);\n        } else {\n          var g;\n          if (typeof window !== 'undefined') {\n            g = window;\n          } else if (typeof global !== 'undefined') {\n            g = global;\n          } else if (typeof self !== 'undefined') {\n            g = self;\n          } else {\n            g = this;\n          }\n          g.EphoxContactWrapper = f();\n        }\n      }(function () {\n        return function () {\n          function r(e, n, t) {\n            function o(i, f) {\n              if (!n[i]) {\n                if (!e[i]) {\n                  var c = 'function' == typeof require && require;\n                  if (!f && c)\n                    return c(i, !0);\n                  if (u)\n                    return u(i, !0);\n                  var a = new Error('Cannot find module \\'' + i + '\\'');\n                  throw a.code = 'MODULE_NOT_FOUND', a;\n                }\n                var p = n[i] = { exports: {} };\n                e[i][0].call(p.exports, function (r) {\n                  var n = e[i][1][r];\n                  return o(n || r);\n                }, p, p.exports, r, e, n, t);\n              }\n              return n[i].exports;\n            }\n            for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++)\n              o(t[i]);\n            return o;\n          }\n          return r;\n        }()({\n          1: [\n            function (require, module, exports) {\n              var process = module.exports = {};\n              var cachedSetTimeout;\n              var cachedClearTimeout;\n              function defaultSetTimout() {\n                throw new Error('setTimeout has not been defined');\n              }\n              function defaultClearTimeout() {\n                throw new Error('clearTimeout has not been defined');\n              }\n              (function () {\n                try {\n                  if (typeof setTimeout === 'function') {\n                    cachedSetTimeout = setTimeout;\n                  } else {\n                    cachedSetTimeout = defaultSetTimout;\n                  }\n                } catch (e) {\n                  cachedSetTimeout = defaultSetTimout;\n                }\n                try {\n                  if (typeof clearTimeout === 'function') {\n                    cachedClearTimeout = clearTimeout;\n                  } else {\n                    cachedClearTimeout = defaultClearTimeout;\n                  }\n                } catch (e) {\n                  cachedClearTimeout = defaultClearTimeout;\n                }\n              }());\n              function runTimeout(fun) {\n                if (cachedSetTimeout === setTimeout) {\n                  return setTimeout(fun, 0);\n                }\n                if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n                  cachedSetTimeout = setTimeout;\n                  return setTimeout(fun, 0);\n                }\n                try {\n                  return cachedSetTimeout(fun, 0);\n                } catch (e) {\n                  try {\n                    return cachedSetTimeout.call(null, fun, 0);\n                  } catch (e) {\n                    return cachedSetTimeout.call(this, fun, 0);\n                  }\n                }\n              }\n              function runClearTimeout(marker) {\n                if (cachedClearTimeout === clearTimeout) {\n                  return clearTimeout(marker);\n                }\n                if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n                  cachedClearTimeout = clearTimeout;\n                  return clearTimeout(marker);\n                }\n                try {\n                  return cachedClearTimeout(marker);\n                } catch (e) {\n                  try {\n                    return cachedClearTimeout.call(null, marker);\n                  } catch (e) {\n                    return cachedClearTimeout.call(this, marker);\n                  }\n                }\n              }\n              var queue = [];\n              var draining = false;\n              var currentQueue;\n              var queueIndex = -1;\n              function cleanUpNextTick() {\n                if (!draining || !currentQueue) {\n                  return;\n                }\n                draining = false;\n                if (currentQueue.length) {\n                  queue = currentQueue.concat(queue);\n                } else {\n                  queueIndex = -1;\n                }\n                if (queue.length) {\n                  drainQueue();\n                }\n              }\n              function drainQueue() {\n                if (draining) {\n                  return;\n                }\n                var timeout = runTimeout(cleanUpNextTick);\n                draining = true;\n                var len = queue.length;\n                while (len) {\n                  currentQueue = queue;\n                  queue = [];\n                  while (++queueIndex < len) {\n                    if (currentQueue) {\n                      currentQueue[queueIndex].run();\n                    }\n                  }\n                  queueIndex = -1;\n                  len = queue.length;\n                }\n                currentQueue = null;\n                draining = false;\n                runClearTimeout(timeout);\n              }\n              process.nextTick = function (fun) {\n                var args = new Array(arguments.length - 1);\n                if (arguments.length > 1) {\n                  for (var i = 1; i < arguments.length; i++) {\n                    args[i - 1] = arguments[i];\n                  }\n                }\n                queue.push(new Item(fun, args));\n                if (queue.length === 1 && !draining) {\n                  runTimeout(drainQueue);\n                }\n              };\n              function Item(fun, array) {\n                this.fun = fun;\n                this.array = array;\n              }\n              Item.prototype.run = function () {\n                this.fun.apply(null, this.array);\n              };\n              process.title = 'browser';\n              process.browser = true;\n              process.env = {};\n              process.argv = [];\n              process.version = '';\n              process.versions = {};\n              function noop() {\n              }\n              process.on = noop;\n              process.addListener = noop;\n              process.once = noop;\n              process.off = noop;\n              process.removeListener = noop;\n              process.removeAllListeners = noop;\n              process.emit = noop;\n              process.prependListener = noop;\n              process.prependOnceListener = noop;\n              process.listeners = function (name) {\n                return [];\n              };\n              process.binding = function (name) {\n                throw new Error('process.binding is not supported');\n              };\n              process.cwd = function () {\n                return '/';\n              };\n              process.chdir = function (dir) {\n                throw new Error('process.chdir is not supported');\n              };\n              process.umask = function () {\n                return 0;\n              };\n            },\n            {}\n          ],\n          2: [\n            function (require, module, exports) {\n              (function (setImmediate) {\n                (function (root) {\n                  var setTimeoutFunc = setTimeout;\n                  function noop() {\n                  }\n                  function bind(fn, thisArg) {\n                    return function () {\n                      fn.apply(thisArg, arguments);\n                    };\n                  }\n                  function Promise(fn) {\n                    if (typeof this !== 'object')\n                      throw new TypeError('Promises must be constructed via new');\n                    if (typeof fn !== 'function')\n                      throw new TypeError('not a function');\n                    this._state = 0;\n                    this._handled = false;\n                    this._value = undefined;\n                    this._deferreds = [];\n                    doResolve(fn, this);\n                  }\n                  function handle(self, deferred) {\n                    while (self._state === 3) {\n                      self = self._value;\n                    }\n                    if (self._state === 0) {\n                      self._deferreds.push(deferred);\n                      return;\n                    }\n                    self._handled = true;\n                    Promise._immediateFn(function () {\n                      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                      if (cb === null) {\n                        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                        return;\n                      }\n                      var ret;\n                      try {\n                        ret = cb(self._value);\n                      } catch (e) {\n                        reject(deferred.promise, e);\n                        return;\n                      }\n                      resolve(deferred.promise, ret);\n                    });\n                  }\n                  function resolve(self, newValue) {\n                    try {\n                      if (newValue === self)\n                        throw new TypeError('A promise cannot be resolved with itself.');\n                      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                        var then = newValue.then;\n                        if (newValue instanceof Promise) {\n                          self._state = 3;\n                          self._value = newValue;\n                          finale(self);\n                          return;\n                        } else if (typeof then === 'function') {\n                          doResolve(bind(then, newValue), self);\n                          return;\n                        }\n                      }\n                      self._state = 1;\n                      self._value = newValue;\n                      finale(self);\n                    } catch (e) {\n                      reject(self, e);\n                    }\n                  }\n                  function reject(self, newValue) {\n                    self._state = 2;\n                    self._value = newValue;\n                    finale(self);\n                  }\n                  function finale(self) {\n                    if (self._state === 2 && self._deferreds.length === 0) {\n                      Promise._immediateFn(function () {\n                        if (!self._handled) {\n                          Promise._unhandledRejectionFn(self._value);\n                        }\n                      });\n                    }\n                    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                      handle(self, self._deferreds[i]);\n                    }\n                    self._deferreds = null;\n                  }\n                  function Handler(onFulfilled, onRejected, promise) {\n                    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                    this.promise = promise;\n                  }\n                  function doResolve(fn, self) {\n                    var done = false;\n                    try {\n                      fn(function (value) {\n                        if (done)\n                          return;\n                        done = true;\n                        resolve(self, value);\n                      }, function (reason) {\n                        if (done)\n                          return;\n                        done = true;\n                        reject(self, reason);\n                      });\n                    } catch (ex) {\n                      if (done)\n                        return;\n                      done = true;\n                      reject(self, ex);\n                    }\n                  }\n                  Promise.prototype['catch'] = function (onRejected) {\n                    return this.then(null, onRejected);\n                  };\n                  Promise.prototype.then = function (onFulfilled, onRejected) {\n                    var prom = new this.constructor(noop);\n                    handle(this, new Handler(onFulfilled, onRejected, prom));\n                    return prom;\n                  };\n                  Promise.all = function (arr) {\n                    var args = Array.prototype.slice.call(arr);\n                    return new Promise(function (resolve, reject) {\n                      if (args.length === 0)\n                        return resolve([]);\n                      var remaining = args.length;\n                      function res(i, val) {\n                        try {\n                          if (val && (typeof val === 'object' || typeof val === 'function')) {\n                            var then = val.then;\n                            if (typeof then === 'function') {\n                              then.call(val, function (val) {\n                                res(i, val);\n                              }, reject);\n                              return;\n                            }\n                          }\n                          args[i] = val;\n                          if (--remaining === 0) {\n                            resolve(args);\n                          }\n                        } catch (ex) {\n                          reject(ex);\n                        }\n                      }\n                      for (var i = 0; i < args.length; i++) {\n                        res(i, args[i]);\n                      }\n                    });\n                  };\n                  Promise.resolve = function (value) {\n                    if (value && typeof value === 'object' && value.constructor === Promise) {\n                      return value;\n                    }\n                    return new Promise(function (resolve) {\n                      resolve(value);\n                    });\n                  };\n                  Promise.reject = function (value) {\n                    return new Promise(function (resolve, reject) {\n                      reject(value);\n                    });\n                  };\n                  Promise.race = function (values) {\n                    return new Promise(function (resolve, reject) {\n                      for (var i = 0, len = values.length; i < len; i++) {\n                        values[i].then(resolve, reject);\n                      }\n                    });\n                  };\n                  Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                    setImmediate(fn);\n                  } : function (fn) {\n                    setTimeoutFunc(fn, 0);\n                  };\n                  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                    if (typeof console !== 'undefined' && console) {\n                      console.warn('Possible Unhandled Promise Rejection:', err);\n                    }\n                  };\n                  Promise._setImmediateFn = function _setImmediateFn(fn) {\n                    Promise._immediateFn = fn;\n                  };\n                  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                    Promise._unhandledRejectionFn = fn;\n                  };\n                  if (typeof module !== 'undefined' && module.exports) {\n                    module.exports = Promise;\n                  } else if (!root.Promise) {\n                    root.Promise = Promise;\n                  }\n                }(this));\n              }.call(this, require('timers').setImmediate));\n            },\n            { 'timers': 3 }\n          ],\n          3: [\n            function (require, module, exports) {\n              (function (setImmediate, clearImmediate) {\n                var nextTick = require('process/browser.js').nextTick;\n                var apply = Function.prototype.apply;\n                var slice = Array.prototype.slice;\n                var immediateIds = {};\n                var nextImmediateId = 0;\n                exports.setTimeout = function () {\n                  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n                };\n                exports.setInterval = function () {\n                  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n                };\n                exports.clearTimeout = exports.clearInterval = function (timeout) {\n                  timeout.close();\n                };\n                function Timeout(id, clearFn) {\n                  this._id = id;\n                  this._clearFn = clearFn;\n                }\n                Timeout.prototype.unref = Timeout.prototype.ref = function () {\n                };\n                Timeout.prototype.close = function () {\n                  this._clearFn.call(window, this._id);\n                };\n                exports.enroll = function (item, msecs) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = msecs;\n                };\n                exports.unenroll = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = -1;\n                };\n                exports._unrefActive = exports.active = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  var msecs = item._idleTimeout;\n                  if (msecs >= 0) {\n                    item._idleTimeoutId = setTimeout(function onTimeout() {\n                      if (item._onTimeout)\n                        item._onTimeout();\n                    }, msecs);\n                  }\n                };\n                exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n                  var id = nextImmediateId++;\n                  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n                  immediateIds[id] = true;\n                  nextTick(function onNextTick() {\n                    if (immediateIds[id]) {\n                      if (args) {\n                        fn.apply(null, args);\n                      } else {\n                        fn.call(null);\n                      }\n                      exports.clearImmediate(id);\n                    }\n                  });\n                  return id;\n                };\n                exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n                  delete immediateIds[id];\n                };\n              }.call(this, require('timers').setImmediate, require('timers').clearImmediate));\n            },\n            {\n              'process/browser.js': 1,\n              'timers': 3\n            }\n          ],\n          4: [\n            function (require, module, exports) {\n              var promisePolyfill = require('promise-polyfill');\n              var Global = function () {\n                if (typeof window !== 'undefined') {\n                  return window;\n                } else {\n                  return Function('return this;')();\n                }\n              }();\n              module.exports = { boltExport: Global.Promise || promisePolyfill };\n            },\n            { 'promise-polyfill': 2 }\n          ]\n        }, {}, [4])(4);\n      }));\n    }(undefined, exports$1, module, undefined));\n    var Promise = module.exports.boltExport;\n\n    var nu = function (baseFn) {\n      var data = Option.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        data = Option.some(x);\n        run(callbacks);\n        callbacks = [];\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          domGlobals.setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure = function (a) {\n      return nu(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu,\n      pure: pure\n    };\n\n    var errorReporter = function (err) {\n      domGlobals.setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$1 = function (baseFn) {\n      return make(function () {\n        return new Promise(baseFn);\n      });\n    };\n    var pure$1 = function (a) {\n      return make(function () {\n        return Promise.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$1,\n      pure: pure$1\n    };\n\n    var par = function (asyncValues, nu) {\n      return nu(function (callback) {\n        var r = [];\n        var count = 0;\n        var cb = function (i) {\n          return function (value) {\n            r[i] = value;\n            count++;\n            if (count >= asyncValues.length) {\n              callback(r);\n            }\n          };\n        };\n        if (asyncValues.length === 0) {\n          callback([]);\n        } else {\n          each(asyncValues, function (asyncValue, i) {\n            asyncValue.get(cb(i));\n          });\n        }\n      });\n    };\n\n    var par$1 = function (futures) {\n      return par(futures, Future.nu);\n    };\n    var traverse = function (array, fn) {\n      return par$1(map(array, fn));\n    };\n    var mapM = traverse;\n\n    var value = function () {\n      var subject = Cell(Option.none());\n      var clear = function () {\n        subject.set(Option.none());\n      };\n      var set = function (s) {\n        subject.set(Option.some(s));\n      };\n      var on = function (f) {\n        subject.get().each(f);\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      return {\n        clear: clear,\n        set: set,\n        isSet: isSet,\n        on: on\n      };\n    };\n\n    var pasteHtml$1 = function (editor, html, internalFlag) {\n      var internal = internalFlag ? internalFlag : InternalHtml.isMarked(html);\n      var args = ProcessFilters.process(editor, InternalHtml.unmark(html), internal);\n      if (args.cancelled === false) {\n        SmartPaste.insertContent(editor, args.content);\n      }\n    };\n    var pasteText = function (editor, text) {\n      text = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      text = Newlines.convert(text, editor.settings.forced_root_block, editor.settings.forced_root_block_attrs);\n      pasteHtml$1(editor, text, false);\n    };\n    var getDataTransferItems = function (dataTransfer) {\n      var items = {};\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      if (dataTransfer) {\n        if (dataTransfer.getData) {\n          var legacyText = dataTransfer.getData('Text');\n          if (legacyText && legacyText.length > 0) {\n            if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {\n              items['text/plain'] = legacyText;\n            }\n          }\n        }\n        if (dataTransfer.types) {\n          for (var i = 0; i < dataTransfer.types.length; i++) {\n            var contentType = dataTransfer.types[i];\n            try {\n              items[contentType] = dataTransfer.getData(contentType);\n            } catch (ex) {\n              items[contentType] = '';\n            }\n          }\n        }\n      }\n      return items;\n    };\n    var getClipboardContent = function (editor, clipboardEvent) {\n      var content = getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\n      return Utils.isMsEdge() ? global$4.extend(content, { 'text/html': '' }) : content;\n    };\n    var hasContentType = function (clipboardContent, mimeType) {\n      return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    };\n    var hasHtmlOrText = function (content) {\n      return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    };\n    var getBase64FromUri = function (uri) {\n      var idx;\n      idx = uri.indexOf(',');\n      if (idx !== -1) {\n        return uri.substr(idx + 1);\n      }\n      return null;\n    };\n    var isValidDataUriImage = function (settings, imgElm) {\n      return settings.images_dataimg_filter ? settings.images_dataimg_filter(imgElm) : true;\n    };\n    var extractFilename = function (editor, str) {\n      var m = str.match(/([\\s\\S]+?)\\.(?:jpeg|jpg|png|gif)$/i);\n      return m ? editor.dom.encode(m[1]) : null;\n    };\n    var uniqueId = Utils.createIdGenerator('mceclip');\n    var pasteImage = function (editor, imageItem) {\n      var base64 = getBase64FromUri(imageItem.uri);\n      var id = uniqueId();\n      var name = editor.settings.images_reuse_filename && imageItem.blob.name ? extractFilename(editor, imageItem.blob.name) : id;\n      var img = new domGlobals.Image();\n      img.src = imageItem.uri;\n      if (isValidDataUriImage(editor.settings, img)) {\n        var blobCache = editor.editorUpload.blobCache;\n        var blobInfo = void 0, existingBlobInfo = void 0;\n        existingBlobInfo = blobCache.findFirst(function (cachedBlobInfo) {\n          return cachedBlobInfo.base64() === base64;\n        });\n        if (!existingBlobInfo) {\n          blobInfo = blobCache.create(id, imageItem.blob, base64, name);\n          blobCache.add(blobInfo);\n        } else {\n          blobInfo = existingBlobInfo;\n        }\n        pasteHtml$1(editor, '<img src=\"' + blobInfo.blobUri() + '\">', false);\n      } else {\n        pasteHtml$1(editor, '<img src=\"' + imageItem.uri + '\">', false);\n      }\n    };\n    var isClipboardEvent = function (event) {\n      return event.type === 'paste';\n    };\n    var readBlobsAsDataUris = function (items) {\n      return mapM(items, function (item) {\n        return Future.nu(function (resolve) {\n          var blob = item.getAsFile ? item.getAsFile() : item;\n          var reader = new window.FileReader();\n          reader.onload = function () {\n            resolve({\n              blob: blob,\n              uri: reader.result\n            });\n          };\n          reader.readAsDataURL(blob);\n        });\n      });\n    };\n    var getImagesFromDataTransfer = function (dataTransfer) {\n      var items = dataTransfer.items ? map(from$1(dataTransfer.items), function (item) {\n        return item.getAsFile();\n      }) : [];\n      var files = dataTransfer.files ? from$1(dataTransfer.files) : [];\n      var images = filter$1(items.length > 0 ? items : files, function (file) {\n        return /^image\\/(jpeg|png|gif|bmp)$/.test(file.type);\n      });\n      return images;\n    };\n    var pasteImageData = function (editor, e, rng) {\n      var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n      if (editor.settings.paste_data_images && dataTransfer) {\n        var images = getImagesFromDataTransfer(dataTransfer);\n        if (images.length > 0) {\n          e.preventDefault();\n          readBlobsAsDataUris(images).get(function (blobResults) {\n            if (rng) {\n              editor.selection.setRng(rng);\n            }\n            each(blobResults, function (result) {\n              pasteImage(editor, result);\n            });\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    var isBrokenAndroidClipboardEvent = function (e) {\n      var clipboardData = e.clipboardData;\n      return domGlobals.navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\n    };\n    var isKeyboardPasteEvent = function (e) {\n      return global$5.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    };\n    var registerEventHandlers = function (editor, pasteBin, pasteFormat) {\n      var keyboardPasteEvent = value();\n      var keyboardPastePlainTextState;\n      editor.on('keydown', function (e) {\n        function removePasteBinOnKeyUp(e) {\n          if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n            pasteBin.remove();\n          }\n        }\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n          if (keyboardPastePlainTextState && global$2.webkit && domGlobals.navigator.userAgent.indexOf('Version/') !== -1) {\n            return;\n          }\n          e.stopImmediatePropagation();\n          keyboardPasteEvent.set(e);\n          window.setTimeout(function () {\n            keyboardPasteEvent.clear();\n          }, 100);\n          if (global$2.ie && keyboardPastePlainTextState) {\n            e.preventDefault();\n            Events.firePaste(editor, true);\n            return;\n          }\n          pasteBin.remove();\n          pasteBin.create();\n          editor.once('keyup', removePasteBinOnKeyUp);\n          editor.once('paste', function () {\n            editor.off('keyup', removePasteBinOnKeyUp);\n          });\n        }\n      });\n      function insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal) {\n        var content, isPlainTextHtml;\n        if (hasContentType(clipboardContent, 'text/html')) {\n          content = clipboardContent['text/html'];\n        } else {\n          content = pasteBin.getHtml();\n          internal = internal ? internal : InternalHtml.isMarked(content);\n          if (pasteBin.isDefaultContent(content)) {\n            plainTextMode = true;\n          }\n        }\n        content = Utils.trimHtml(content);\n        pasteBin.remove();\n        isPlainTextHtml = internal === false && Newlines.isPlainText(content);\n        if (!content.length || isPlainTextHtml) {\n          plainTextMode = true;\n        }\n        if (plainTextMode) {\n          if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n            content = clipboardContent['text/plain'];\n          } else {\n            content = Utils.innerText(content);\n          }\n        }\n        if (pasteBin.isDefaultContent(content)) {\n          if (!isKeyBoardPaste) {\n            editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\n          }\n          return;\n        }\n        if (plainTextMode) {\n          pasteText(editor, content);\n        } else {\n          pasteHtml$1(editor, content, internal);\n        }\n      }\n      var getLastRng = function () {\n        return pasteBin.getLastRng() || editor.selection.getRng();\n      };\n      editor.on('paste', function (e) {\n        var isKeyBoardPaste = keyboardPasteEvent.isSet();\n        var clipboardContent = getClipboardContent(editor, e);\n        var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        var internal = hasContentType(clipboardContent, InternalHtml.internalHtmlMime());\n        keyboardPastePlainTextState = false;\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          pasteBin.remove();\n          return;\n        }\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          pasteBin.remove();\n          return;\n        }\n        if (!isKeyBoardPaste) {\n          e.preventDefault();\n        }\n        if (global$2.ie && (!isKeyBoardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {\n          pasteBin.create();\n          editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {\n            e.stopPropagation();\n          });\n          editor.getDoc().execCommand('Paste', false, null);\n          clipboardContent['text/html'] = pasteBin.getHtml();\n        }\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n          if (!internal) {\n            internal = InternalHtml.isMarked(clipboardContent['text/html']);\n          }\n          insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n        } else {\n          global$3.setEditorTimeout(editor, function () {\n            insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n          }, 0);\n        }\n      });\n    };\n    var registerEventsAndFilters = function (editor, pasteBin, pasteFormat) {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      var src;\n      editor.parser.addNodeFilter('img', function (nodes, name, args) {\n        var isPasteInsert = function (args) {\n          return args.data && args.data.paste === true;\n        };\n        var remove = function (node) {\n          if (!node.attr('data-mce-object') && src !== global$2.transparentSrc) {\n            node.remove();\n          }\n        };\n        var isWebKitFakeUrl = function (src) {\n          return src.indexOf('webkit-fake-url') === 0;\n        };\n        var isDataUri = function (src) {\n          return src.indexOf('data:') === 0;\n        };\n        if (!editor.settings.paste_data_images && isPasteInsert(args)) {\n          var i = nodes.length;\n          while (i--) {\n            src = nodes[i].attributes.map.src;\n            if (!src) {\n              continue;\n            }\n            if (isWebKitFakeUrl(src)) {\n              remove(nodes[i]);\n            } else if (!editor.settings.allow_html_data_urls && isDataUri(src)) {\n              remove(nodes[i]);\n            }\n          }\n        }\n      });\n    };\n\n    var getPasteBinParent = function (editor) {\n      return global$2.ie && editor.inline ? domGlobals.document.body : editor.getBody();\n    };\n    var isExternalPasteBin = function (editor) {\n      return getPasteBinParent(editor) !== editor.getBody();\n    };\n    var delegatePasteEvents = function (editor, pasteBinElm, pasteBinDefaultContent) {\n      if (isExternalPasteBin(editor)) {\n        editor.dom.bind(pasteBinElm, 'paste keyup', function (e) {\n          if (!isDefault(editor, pasteBinDefaultContent)) {\n            editor.fire('paste');\n          }\n        });\n      }\n    };\n    var create = function (editor, lastRngCell, pasteBinDefaultContent) {\n      var dom = editor.dom, body = editor.getBody();\n      var pasteBinElm;\n      lastRngCell.set(editor.selection.getRng());\n      pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n      if (global$2.ie || global$2.gecko) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {\n        e.stopPropagation();\n      });\n      delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);\n      pasteBinElm.focus();\n      editor.selection.select(pasteBinElm, true);\n    };\n    var remove = function (editor, lastRngCell) {\n      if (getEl(editor)) {\n        var pasteBinClone = void 0;\n        var lastRng = lastRngCell.get();\n        while (pasteBinClone = editor.dom.get('mcepastebin')) {\n          editor.dom.remove(pasteBinClone);\n          editor.dom.unbind(pasteBinClone);\n        }\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n      lastRngCell.set(null);\n    };\n    var getEl = function (editor) {\n      return editor.dom.get('mcepastebin');\n    };\n    var getHtml = function (editor) {\n      var pasteBinElm, pasteBinClones, i, dirtyWrappers, cleanWrapper;\n      var copyAndRemove = function (toElm, fromElm) {\n        toElm.appendChild(fromElm);\n        editor.dom.remove(fromElm, true);\n      };\n      pasteBinClones = global$4.grep(getPasteBinParent(editor).childNodes, function (elm) {\n        return elm.id === 'mcepastebin';\n      });\n      pasteBinElm = pasteBinClones.shift();\n      global$4.each(pasteBinClones, function (pasteBinClone) {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);\n      for (i = dirtyWrappers.length - 1; i >= 0; i--) {\n        cleanWrapper = editor.dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n    var getLastRng = function (lastRng) {\n      return lastRng.get();\n    };\n    var isDefaultContent = function (pasteBinDefaultContent, content) {\n      return content === pasteBinDefaultContent;\n    };\n    var isPasteBin = function (elm) {\n      return elm && elm.id === 'mcepastebin';\n    };\n    var isDefault = function (editor, pasteBinDefaultContent) {\n      var pasteBinElm = getEl(editor);\n      return isPasteBin(pasteBinElm) && isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);\n    };\n    var PasteBin = function (editor) {\n      var lastRng = Cell(null);\n      var pasteBinDefaultContent = '%MCEPASTEBIN%';\n      return {\n        create: function () {\n          return create(editor, lastRng, pasteBinDefaultContent);\n        },\n        remove: function () {\n          return remove(editor, lastRng);\n        },\n        getEl: function () {\n          return getEl(editor);\n        },\n        getHtml: function () {\n          return getHtml(editor);\n        },\n        getLastRng: function () {\n          return getLastRng(lastRng);\n        },\n        isDefault: function () {\n          return isDefault(editor, pasteBinDefaultContent);\n        },\n        isDefaultContent: function (content) {\n          return isDefaultContent(pasteBinDefaultContent, content);\n        }\n      };\n    };\n\n    var Clipboard = function (editor, pasteFormat) {\n      var pasteBin = PasteBin(editor);\n      editor.on('preInit', function () {\n        return registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n      return {\n        pasteFormat: pasteFormat,\n        pasteHtml: function (html, internalFlag) {\n          return pasteHtml$1(editor, html, internalFlag);\n        },\n        pasteText: function (text) {\n          return pasteText(editor, text);\n        },\n        pasteImageData: function (e, rng) {\n          return pasteImageData(editor, e, rng);\n        },\n        getDataTransferItems: getDataTransferItems,\n        hasHtmlOrText: hasHtmlOrText,\n        hasContentType: hasContentType\n      };\n    };\n\n    var noop$1 = function () {\n    };\n    var hasWorkingClipboardApi = function (clipboardData) {\n      return global$2.iOS === false && clipboardData !== undefined && typeof clipboardData.setData === 'function' && Utils.isMsEdge() !== true;\n    };\n    var setHtml5Clipboard = function (clipboardData, html, text) {\n      if (hasWorkingClipboardApi(clipboardData)) {\n        try {\n          clipboardData.clearData();\n          clipboardData.setData('text/html', html);\n          clipboardData.setData('text/plain', text);\n          clipboardData.setData(InternalHtml.internalHtmlMime(), html);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n    var setClipboardData = function (evt, data, fallback, done) {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n    var fallback = function (editor) {\n      return function (html, done) {\n        var markedHtml = InternalHtml.mark(html);\n        var outer = editor.dom.create('div', {\n          'contenteditable': 'false',\n          'data-mce-bogus': 'all'\n        });\n        var inner = editor.dom.create('div', { contenteditable: 'true' }, markedHtml);\n        editor.dom.setStyles(outer, {\n          position: 'fixed',\n          top: '0',\n          left: '-3000px',\n          width: '1000px',\n          overflow: 'hidden'\n        });\n        outer.appendChild(inner);\n        editor.dom.add(editor.getBody(), outer);\n        var range = editor.selection.getRng();\n        inner.focus();\n        var offscreenRange = editor.dom.createRng();\n        offscreenRange.selectNodeContents(inner);\n        editor.selection.setRng(offscreenRange);\n        setTimeout(function () {\n          editor.selection.setRng(range);\n          outer.parentNode.removeChild(outer);\n          done();\n        }, 0);\n      };\n    };\n    var getData = function (editor) {\n      return {\n        html: editor.selection.getContent({ contextual: true }),\n        text: editor.selection.getContent({ format: 'text' })\n      };\n    };\n    var isTableSelection = function (editor) {\n      return !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n    };\n    var hasSelectedContent = function (editor) {\n      return !editor.selection.isCollapsed() || isTableSelection(editor);\n    };\n    var cut = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), function () {\n            setTimeout(function () {\n              editor.execCommand('Delete');\n            }, 0);\n          });\n        }\n      };\n    };\n    var copy = function (editor) {\n      return function (evt) {\n        if (hasSelectedContent(editor)) {\n          setClipboardData(evt, getData(editor), fallback(editor), noop$1);\n        }\n      };\n    };\n    var register$1 = function (editor) {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n    var CutCopy = { register: register$1 };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var getCaretRangeFromEvent = function (editor, e) {\n      return global$b.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\n    };\n    var isPlainTextFileUrl = function (content) {\n      var plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n    var setFocusedRange = function (editor, rng) {\n      editor.focus();\n      editor.selection.setRng(rng);\n    };\n    var setup = function (editor, clipboard, draggingInternallyState) {\n      if (Settings.shouldBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n      if (!Settings.shouldPasteDataImages(editor)) {\n        editor.on('drop', function (e) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\n            e.preventDefault();\n          }\n        });\n      }\n      editor.on('drop', function (e) {\n        var dropContent, rng;\n        rng = getCaretRangeFromEvent(editor, e);\n        if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n          return;\n        }\n        dropContent = clipboard.getDataTransferItems(e.dataTransfer);\n        var internal = clipboard.hasContentType(dropContent, InternalHtml.internalHtmlMime());\n        if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {\n          return;\n        }\n        if (rng && Settings.shouldFilterDrop(editor)) {\n          var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\n          if (content_1) {\n            e.preventDefault();\n            global$3.setEditorTimeout(editor, function () {\n              editor.undoManager.transact(function () {\n                if (dropContent['mce-internal']) {\n                  editor.execCommand('Delete');\n                }\n                setFocusedRange(editor, rng);\n                content_1 = Utils.trimHtml(content_1);\n                if (!dropContent['text/html']) {\n                  clipboard.pasteText(content_1);\n                } else {\n                  clipboard.pasteHtml(content_1, internal);\n                }\n              });\n            });\n          }\n        }\n      });\n      editor.on('dragstart', function (e) {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', function (e) {\n        if (Settings.shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n    };\n    var DragDrop = { setup: setup };\n\n    var setup$1 = function (editor) {\n      var plugin = editor.plugins.paste;\n      var preProcess = Settings.getPreProcess(editor);\n      if (preProcess) {\n        editor.on('PastePreProcess', function (e) {\n          preProcess.call(plugin, plugin, e);\n        });\n      }\n      var postProcess = Settings.getPostProcess(editor);\n      if (postProcess) {\n        editor.on('PastePostProcess', function (e) {\n          postProcess.call(plugin, plugin, e);\n        });\n      }\n    };\n    var PrePostProcess = { setup: setup$1 };\n\n    function addPreProcessFilter(editor, filterFunc) {\n      editor.on('PastePreProcess', function (e) {\n        e.content = filterFunc(editor, e.content, e.internal, e.wordContent);\n      });\n    }\n    function addPostProcessFilter(editor, filterFunc) {\n      editor.on('PastePostProcess', function (e) {\n        filterFunc(editor, e.node);\n      });\n    }\n    function removeExplorerBrElementsAfterBlocks(editor, html) {\n      if (!WordFilter.isWordContent(html)) {\n        return html;\n      }\n      var blockElements = [];\n      global$4.each(editor.schema.getBlockElements(), function (block, blockName) {\n        blockElements.push(blockName);\n      });\n      var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*', 'g');\n      html = Utils.filter(html, [[\n          explorerBlocksRegExp,\n          '$1'\n        ]]);\n      html = Utils.filter(html, [\n        [\n          /<br><br>/g,\n          '<BR><BR>'\n        ],\n        [\n          /<br>/g,\n          ' '\n        ],\n        [\n          /<BR><BR>/g,\n          '<br>'\n        ]\n      ]);\n      return html;\n    }\n    function removeWebKitStyles(editor, content, internal, isWordHtml) {\n      if (isWordHtml || internal) {\n        return content;\n      }\n      var webKitStylesSetting = Settings.getWebkitStyles(editor);\n      var webKitStyles;\n      if (Settings.shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {\n        return content;\n      }\n      if (webKitStylesSetting) {\n        webKitStyles = webKitStylesSetting.split(/[, ]/);\n      }\n      if (webKitStyles) {\n        var dom_1 = editor.dom, node_1 = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, function (all, before, value, after) {\n          var inputStyles = dom_1.parseStyle(dom_1.decode(value));\n          var outputStyles = {};\n          if (webKitStyles === 'none') {\n            return before + after;\n          }\n          for (var i = 0; i < webKitStyles.length; i++) {\n            var inputValue = inputStyles[webKitStyles[i]], currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);\n            if (/color/.test(webKitStyles[i])) {\n              inputValue = dom_1.toHex(inputValue);\n              currentValue = dom_1.toHex(currentValue);\n            }\n            if (currentValue !== inputValue) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n          outputStyles = dom_1.serializeStyle(outputStyles, 'span');\n          if (outputStyles) {\n            return before + ' style=\"' + outputStyles + '\"' + after;\n          }\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, function (all, before, value, after) {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    }\n    function removeUnderlineAndFontInAnchor(editor, root) {\n      editor.$('a', root).find('font,u').each(function (i, node) {\n        editor.dom.remove(node, true);\n      });\n    }\n    var setup$2 = function (editor) {\n      if (global$2.webkit) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n      if (global$2.ie) {\n        addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);\n        addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);\n      }\n    };\n    var Quirks = { setup: setup$2 };\n\n    var stateChange = function (editor, clipboard, e) {\n      var ctrl = e.control;\n      ctrl.active(clipboard.pasteFormat.get() === 'text');\n      editor.on('PastePlainTextToggle', function (e) {\n        ctrl.active(e.state);\n      });\n    };\n    var register$2 = function (editor, clipboard) {\n      var postRender = curry(stateChange, editor, clipboard);\n      editor.addButton('pastetext', {\n        active: false,\n        icon: 'pastetext',\n        tooltip: 'Paste as text',\n        cmd: 'mceTogglePlainTextPaste',\n        onPostRender: postRender\n      });\n      editor.addMenuItem('pastetext', {\n        text: 'Paste as text',\n        selectable: true,\n        active: clipboard.pasteFormat,\n        cmd: 'mceTogglePlainTextPaste',\n        onPostRender: postRender\n      });\n    };\n    var Buttons = { register: register$2 };\n\n    global$1.add('paste', function (editor) {\n      if (DetectProPlugin.hasProPlugin(editor) === false) {\n        var userIsInformedState = Cell(false);\n        var draggingInternallyState = Cell(false);\n        var pasteFormat = Cell(Settings.isPasteAsTextEnabled(editor) ? 'text' : 'html');\n        var clipboard = Clipboard(editor, pasteFormat);\n        var quirks = Quirks.setup(editor);\n        Buttons.register(editor, clipboard);\n        Commands.register(editor, clipboard, userIsInformedState);\n        PrePostProcess.setup(editor);\n        CutCopy.register(editor);\n        DragDrop.setup(editor, clipboard, draggingInternallyState);\n        return Api.get(clipboard, quirks);\n      }\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}(window));\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tinymce/plugins/paste/plugin.js\n// module id = T8kY\n// module chunks = 15"],"sourceRoot":""}